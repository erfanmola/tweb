const __vite__fileDeps=["./pageSignIn-CCvqSK4z.js","./putPreloader-XqhBclwv.js","./page-9xzdIDLN.js","./countryInputField-D8kEeBe8.js","./buttonIcon-Beq2DGJD.js","./wrapEmojiText-C9ZwzJ29.js","./scrollable-COTa0yl_.js","./pageSignQR-99Bv1MS4.js","./textToSvgURL-Cnw_Q8Rw.js","./pageAuthCode-DRFBn4cK.js","./codeInputField-sWPN9Xm0.js","./pagePassword-BUHj7bf5.js","./htmlToSpan-Cs_vmNib.js","./loginPage-CxZlI-GA.js","./pageSignUp-BnXcZZUC.js","./avatar-BjEbBb6X.js","./pageSignImport-fd6dIg0Z.js","./pageIm-Dz55Dpoz.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();const Nr="modulepreload",Ur=function(t,e){return new URL(t,e).href},$s={},z=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){const i=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");r=Promise.all(s.map(u=>{if(u=Ur(u,n),u in $s)return;$s[u]=!0;const c=u.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(!!n)for(let g=i.length-1;g>=0;g--){const v=i[g];if(v.href===u&&(!c||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${l}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":Nr,c||(m.as="script",m.crossOrigin=""),m.href=u,a&&m.setAttribute("nonce",a),document.head.appendChild(m),c)return new Promise((g,v)=>{m.addEventListener("load",g),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}return r.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Ys=["web.telegram.org","webk.telegram.org"],Ka="pattern",Hs=Math.min(4,navigator.hardwareConcurrency??4),W={id:1025907,hash:"452b0359b988148995f22ff0f4229750",version:"2.1.0",versionFull:"2.1.0 (518)",build:518,langPackVersion:"5.4.5",langPack:"webk",langPackCode:"en",domains:Ys,baseDcId:2,isMainDomain:Ys.includes(location.hostname),suffix:"K",threads:Hs,cryptoWorkers:Hs};W.isMainDomain&&(W.id=2496,W.hash="8da85b0d5bfe62527e5b244c209159c3");function vn(){return document.activeElement?.blur?(document.activeElement.blur(),!0):!1}function as(t){if(t||(t=window.event),t){t=t.originalEvent||t;try{t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1,t.cancelBubble=!0}catch{}}return!1}const Fe="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,_s=typeof window<"u"?window:self,He=navigator?navigator.userAgent:null,cs=navigator.userAgent.search(/OS X|iPhone|iPad|iOS/i)!==-1,An=navigator.userAgent.toLowerCase().indexOf("android")!==-1,Sn=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),wn=(()=>{try{return+navigator.userAgent.match(/Chrom(?:e|ium)\/(.+?)(?:\s|\.)/)[1]}catch{}})(),Ne=(/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!_s.MSStream,ne="safari"in _s||!!(He&&(/\b(iPad|iPhone|iPod)\b/.test(He)||He.match("Safari")&&!He.match("Chrome"))),Ue=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,ot=ne&&Ne,le=(navigator.maxTouchPoints===void 0||navigator.maxTouchPoints>0)&&navigator.userAgent.search(/iOS|iPhone OS|Android|BlackBerry|BB10|Series ?[64]0|J2ME|MIDP|opera mini|opera mobi|mobi.+Gecko|Windows Phone/i)!=-1,Wr=Object.freeze(Object.defineProperty({__proto__:null,CHROMIUM_VERSION:wn,IS_ANDROID:An,IS_APPLE:cs,IS_APPLE_MOBILE:Ne,IS_CHROMIUM:Sn,IS_FIREFOX:Ue,IS_MOBILE:le,IS_MOBILE_SAFARI:ot,IS_SAFARI:ne,USER_AGENT:He},Symbol.toStringTag,{value:"Module"}));function jr(t,e){return t.closest("."+e)}let je;function us(t){je?je.push(t):(je=[t],requestAnimationFrame(()=>{const e=je;je=void 0,e.forEach(s=>s())}))}let Pe,Ht=!1;function Ja(t){Pe?Ht?t():Pe.push(t):(Pe=[t],requestAnimationFrame(()=>{Ht=!0;for(let e=0;e<Pe.length;++e)Pe[e]();Pe=void 0,Ht=!1}))}let ke;function Xa(){return ke||(ke=new Promise(t=>us(()=>t())),ke.then(()=>{ke=void 0}),ke)}function Vr(){return new Promise(t=>{us(()=>{us(t)})})}function zs(t){t.style.transform="translateY(-99999px)",t.focus(),Vr().then(()=>{t.style.transform=""})}const vt=ne&&le&&Fe&&!1;if(vt){const t="clientY";let e=0;const s={capture:!0,passive:!1},n=i=>{const o=i.touches[0],a=jr(o.target,"scrollable-y");if(a){const u=o[t],c=e-u,l=a.scrollTop,d=a.scrollHeight,m=a.clientHeight,g=l?Math.round(l+a.clientHeight+c):l+c;(d===m||g>=d||g<=0)&&i.preventDefault()}else i.preventDefault()};let r=0;document.addEventListener("focusin",i=>{!i.target.classList.contains("is-sticky-input-bugged")||i.timeStamp-r<50||(zs(i.target),document.addEventListener("touchmove",n,s),document.addEventListener("touchstart",o=>{if(o.touches.length>1)return;e=o.touches[0][t]}))},{passive:!0}),document.addEventListener("focusout",i=>{document.removeEventListener("touchmove",n,s),r=i.timeStamp},{passive:!0}),document.addEventListener("visibilitychange",()=>{document.activeElement&&document.activeElement.classList.contains("is-sticky-input-bugged")&&document.activeElement.blur&&zs(document.activeElement)},{passive:!0})}function Za(t){vt&&t.classList.add("is-sticky-input-bugged")}const yn="Roboto",Gr=yn+', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif',$r="16px",Yr="400",Qa=`${Yr} ${$r} ${Gr}`;function At(){}function Ps(t){return new Promise(e=>{setTimeout(e,t)})}const bn="tgico";function ec(t){return bn+"-"+t}const zt=["b","Ð±"],qt={},Hr={text:yn,icons:bn,monospace:"Roboto Mono"};function zr(t={text:zt,icons:void 0,monospace:zt}){if(!("fonts"in document))return Promise.resolve();const e=[];for(const s in t){let n=t[s];n==="all"&&(n=zt);const r=Hr[s],i=s==="icons"?[500]:[400,500];for(const o of i){const a=(n||[void 0]).map(u=>{var d,m;const c=[o,"1rem",r].join(" ");return(d=qt[c]??(qt[c]={}))[m=u||""]??(d[m]=document.fonts.load(c,u))});e.push(...a)}}return Promise.race([Promise.all(e).catch(At),Ps(1e3)])}const ls=navigator.userAgent.search(/OS X|iPhone|iPad|iOS/i)!==-1;function Cn(t){return t instanceof URL||(t=new URL(t+"",location.href)),location.search&&t.protocol!=="blob:"&&new URLSearchParams(location.search).forEach((s,n)=>{t.searchParams.set(n,s)}),t.searchParams.delete("swfix"),t}function qr(){const t={construct(e,s){return s[0]=Cn(s[0]),new e(...s)}};[Worker,typeof SharedWorker<"u"&&SharedWorker].filter(Boolean).forEach(e=>{window[e.name]=new Proxy(e,t)})}qr();function Kr(){Element.prototype.toggleAttribute||(Element.prototype.toggleAttribute=function(t,e){return e!==void 0&&(e=!!e),this.hasAttribute(t)?e?!0:(this.removeAttribute(t),!1):e===!1?!1:(this.setAttribute(t,""),!0)})}const _n=0,tc=1271266957,sc=777,nc=2666e3,rc=777e3,ic=2147483647,oc="",ac=20*1024*1024,Jr="",cc=[7322096,16766590,13338331,9367192,16749490,16478047],uc="default_static",St=4294967296,lc=St+1,hc=!1,Xr=new Set(["web","k","z","a"]),dc=2147483646,fc=new Set(["image/jpeg","image/png","image/bmp","image/gif"]),Zr=0,Qr=1,ei=new Set([Zr,Qr]);Math.max(...Array.from(ei))+1;const gc=!1;class be{constructor(e){this._constructor(e)}_constructor(e){this.reuseResults=e,this.listeners={},this.listenerResults={}}addEventListener(e,s,n){var i;const r={callback:s,options:n};if(((i=this.listeners)[e]??(i[e]=new Set)).add(r),this.listenerResults.hasOwnProperty(e)&&(s(...this.listenerResults[e]),n?.once)){this.listeners[e].delete(r);return}}addMultipleEventsListeners(e){for(const s in e)this.addEventListener(s,e[s])}removeEventListener(e,s,n){if(this.listeners[e]){for(const r of this.listeners[e])if(r.callback===s){this.listeners[e].delete(r);break}}}invokeListenerCallback(e,s,...n){let r,i;try{r=s.callback(...n)}catch(o){i=o}if(s.options?.once&&this.removeEventListener(e,s.callback),i)throw i;return r}_dispatchEvent(e,s,...n){this.reuseResults&&(this.listenerResults[e]=n);const r=s&&[],i=this.listeners[e];if(i)for(const o of i){const a=this.invokeListenerCallback(e,o,...n);r&&r.push(a)}return r}dispatchResultableEvent(e,...s){return this._dispatchEvent(e,!0,...s)}dispatchEvent(e,...s){this._dispatchEvent(e,!1,...s)}cleanup(){this.listeners={},this.listenerResults={}}}const K={test:location.search.indexOf("test=1")>0,debug:location.search.indexOf("debug=1")>0,http:!1,ssl:!0,asServiceWorker:!1,transport:"websocket",noSharedWorker:location.search.indexOf("noSharedWorker=1")>0,multipleTransports:!0};(K.http=location.search.indexOf("http=1")>0)&&(K.multipleTransports=!1);K.multipleTransports&&(K.http=!0);K.http&&(K.transport="https");const ti=!1,Se=K.debug,si=typeof window<"u"?window:self,_=si,Pn=Date.now()%Math.random()*1e8|0;function Dt(t,e){const s=t.indexOf(e);return(s===-1?void 0:t.splice(s,1))?.[0]}const at=typeof ServiceWorkerGlobalScope<"u"&&self instanceof ServiceWorkerGlobalScope,Bt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&!at,we=Bt||at,ni=()=>self.clients.matchAll({includeUncontrolled:!1,type:"window"}),kn=(t,...e)=>{try{t.postMessage(...e)}catch(s){console.error("[worker] postMessage error:",s,e)}},Tn=(t,...e)=>{ni().then(s=>{s.length&&s.slice(t?0:-1).forEach(n=>{kn(n,...e)})})},In=(...t)=>{kn(self,...t)},Mn=()=>{};at&&Tn.bind(null,!1);at&&Tn.bind(null,!0);const Kt={};function ve(t){return Kt[t]??(Kt[t]={type:t})}const ri=Date.now();function wt(){return"["+((Date.now()-ri)/1e3).toFixed(3)+"]"}var ks=(t=>(t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Log=4]="Log",t[t.Debug=8]="Debug",t))(ks||{});const ii=[0,1,2,4,8],oi=ne||Ue,qs=!oi,Jt={reset:"\x1B[0m",bright:"\x1B[1m",dim:"\x1B[2m",underscore:"\x1B[4m",blink:"\x1B[5m",reverse:"\x1B[7m",hidden:"\x1B[8m",fg:{black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m"},bg:{black:"\x1B[40m",red:"\x1B[41m",green:"\x1B[42m",yellow:"\x1B[43m",blue:"\x1B[44m",magenta:"\x1B[45m",cyan:"\x1B[46m",white:"\x1B[47m"}},ai=[["debug",8],["info",4],["warn",2],["error",1],["assert",1],["trace",4],["group",4],["groupCollapsed",4],["groupEnd",4]];function ae(t,e=7,s=!1,n=""){let r;!Se&&!s&&(e=1),qs?n||(at?n=Jt.fg.yellow:Bt&&(n=Jt.fg.cyan)):n="";const i=n;n?n=`%s ${n}%s`:n="%s";const o=function(...u){return e&4&&console.log(n,wt(),t,...u)};ai.forEach(([u,c])=>{o[u]=function(...l){return e&c&&console[u](n,wt(),t,...l)}}),o.setPrefix=function(u){r=u,t="["+u+"]"},o.setPrefix(t),o.setLevel=function(u){e=ii.slice(0,u+1).reduce((c,l)=>c|l,0)};const a={};return o.bindPrefix=function(u,c=e){return a[u]??(a[u]=ae(`${r}] ${qs&&i?Jt.reset:""}[${u}`,c,s,i))},o}const ci=!0;class Ts extends be{constructor(e){super(!1),this.logSuffix=e,this.onMessage=s=>{const n=s.data,r=s.source||s.currentTarget;this.processTaskMap[n.type](n,r,s)},this.processResultTask=s=>{const{taskId:n,result:r,error:i}=s.payload,o=this.awaiting[n];o&&(this.debug&&this.log.debug("done",o.taskType,r,i),"error"in s.payload?o.reject(i):o.resolve(r),delete this.awaiting[n])},this.processAckTask=s=>{const n=s.payload,r=this.awaiting[n.taskId];if(!r)return;const i=r.resolve,o={cached:n.cached,result:n.cached?"result"in n?Promise.resolve(n.result):Promise.reject(n.error):new Promise((a,u)=>{r.resolve=a,r.reject=u})};i(o),n.cached&&delete this.awaiting[n.taskId]},this.processPingTask=(s,n,r)=>{this.pushTask(this.createTask("pong",void 0),r.source)},this.processPongTask=(s,n,r)=>{const i=this.pingResolves.get(n);i&&(this.pingResolves.delete(n),i())},this.processCloseTask=(s,n,r)=>{this.detachPort(n)},this.processBatchTask=(s,n,r)=>{const i={data:r.data,source:r.source,currentTarget:r.currentTarget};s.payload.forEach(o=>{i.data=o,this.onMessage(i)})},this.processLockTask=(s,n,r)=>{const i=s.payload;this.requestedLocks.has(i)||(this.requestedLocks.set(i,n),navigator.locks.request(i,()=>{this.processCloseTask(void 0,n,void 0),this.requestedLocks.delete(i)}))},this.processInvokeTask=async(s,n,r)=>{const i=s.id,o=s.payload;let a,u,c;o.void||(a={taskId:i},u=this.createTask("result",a)),o.withAck&&(c=this.createTask("ack",{taskId:i,cached:!0}));let l;try{const d=this.listeners[o.type];if(!d?.size)throw new Error("no listener");const m=d.values().next().value;let g=this.invokeListenerCallback(o.type,m,o.payload,n,r);if(o.void)return;if(l=g instanceof Promise,c){const v=!l;if(c.payload.cached=v,v&&(c.payload.result=g),this.pushTask(c,n),v)return}l&&(g=await g),a.result=g}catch(d){if(this.log.error("worker task error:",d,s),o.void)return;if(c&&c.payload.cached){c.payload.error=d,this.pushTask(c,n);return}a.error=d}this.pushTask(u,n)},this.listenPorts=[],this.sendPorts=[],this.pingResolves=new Map,this.taskId=0,this.awaiting={},this.pending=new Map,this.log=ae("MP"+(e?"-"+e:"")),this.debug=Se,this.heldLocks=new Map,this.requestedLocks=new Map,this.processTaskMap={result:this.processResultTask,ack:this.processAckTask,invoke:this.processInvokeTask,ping:this.processPingTask,pong:this.processPongTask,close:this.processCloseTask,lock:this.processLockTask,batch:this.processBatchTask}}setOnPortDisconnect(e){this.onPortDisconnect=e}attachPort(e){this.attachListenPort(e),this.attachSendPort(e)}attachListenPort(e){this.listenPorts.push(e),e.addEventListener("message",this.onMessage)}attachSendPort(e){if(this.log.warn("attaching send port"),e.start?.(),this.sendPorts.push(e),typeof window<"u"&&ci)if("locks"in navigator){const s=["lock",Pn,this.logSuffix||"",Math.random()*2147483647|0].join("-");this.log.warn("created lock",s);const n=new Promise(r=>this.heldLocks.set(e,{resolve:r,id:s})).then(()=>this.heldLocks.delete(e));navigator.locks.request(s,()=>(this.resendLockTask(e),n))}else window.addEventListener("beforeunload",()=>{const s=this.createTask("close",void 0);this.postMessage(void 0,s)});this.releasePending()}resendLockTask(e){const s=this.heldLocks.get(e);s&&this.pushTask(this.createTask("lock",s.id),e)}detachPort(e){this.log.warn("disconnecting port"),Dt(this.listenPorts,e),Dt(this.sendPorts,e),e.removeEventListener?.("message",this.onMessage),e.close?.(),this.onPortDisconnect?.(e),this.heldLocks.get(e)?.resolve();const n=ve("PORT_DISCONNECTED");for(const r in this.awaiting){const i=this.awaiting[r];i.port===e&&(i.reject(n),delete this.awaiting[r])}}postMessage(e,s){(Array.isArray(e)?e:e?[e]:this.sendPorts).forEach(r=>{r.postMessage(s,s.transfer)})}async releasePending(){this.releasingPending||(this.releasingPending=!0,await Promise.resolve(),this.debug&&this.log.debug("releasing tasks, length:",this.pending.size),this.pending.forEach((e,s)=>{let n=e;{let i;n=[],e.forEach(o=>{o.transfer?(i=void 0,n.push(o)):(i||(i=this.createTask("batch",[]),n.push(i)),i.payload.push(o))})}const r=s?[s]:this.sendPorts;r.length&&(n.forEach(i=>{try{this.postMessage(r,i)}catch(o){this.log.error("postMessage error:",o,i,r)}}),this.pending.delete(s))}),this.debug&&this.log.debug("released tasks"),this.releasingPending=!1)}createTask(e,s,n){return{type:e,payload:s,id:this.taskId++,transfer:n}}createInvokeTask(e,s,n,r,i){return this.createTask("invoke",{type:e,payload:s,withAck:n,void:r},i)}pushTask(e,s){let n=this.pending.get(s);n||this.pending.set(s,n=[]),n.push(e),this.releasePending()}invokeVoid(e,s,n,r){const i=this.createInvokeTask(e,s,void 0,!0,r);this.pushTask(i,n)}invoke(e,s,n,r,i){this.debug&&this.log.debug("start",e,s);let o;const a=new Promise((u,c)=>{o=this.createInvokeTask(e,s,n,void 0,i),this.awaiting[o.id]={resolve:u,reject:c,taskType:e,port:r},this.pushTask(o,r)});if(we){a.finally(()=>{clearInterval(u)});const u=_s.setInterval(()=>{this.log.error("task still has no result",o,r)},6e4)}return a}invokeExceptSource(e,s,n){const r=this.sendPorts.slice();Dt(r,n),r.forEach(i=>{this.invokeVoid(e,s,i)})}}class ct extends Ts{constructor(){super("MTPROTO"),ct.INSTANCE=this,_&&(_.mtprotoMessagePort=this)}static getInstance(){return this.INSTANCE}}class ui extends be{constructor(){super(),this.myId=_n,this.connectionStatus={},this.premium=!1,this.addEventListener("user_auth",({id:e})=>{this.myId=e.toPeerId()}),this.addEventListener("premium_toggle_private",({isNew:e,isPremium:s})=>{this.premium=s,e||this.dispatchEventSingle("premium_toggle",s)}),this.addEventListener("connection_status_change",e=>{this.connectionStatus[e.name]=e}),this.dispatchEvent=(e,...s)=>{super.dispatchEvent(e,...s),ct.getInstance().invokeVoid("event",{name:e,args:s})},we||this.addEventListener("settings_updated",({settings:e})=>{this.settings=e})}getConnectionStatus(){return this.connectionStatus}getPremium(){return this.premium}dispatchEventSingle(...e){super.dispatchEvent(...e)}}const N=new ui;_.rootScope=N;const I={default:N};function ue(){const t={isFulfilled:!1,isRejected:!1,notify:()=>{},notifyAll:function(...r){this.lastNotify=r,this.listeners?.forEach(i=>i(...r))},addNotifyListener:function(r){this.lastNotify&&r(...this.lastNotify),(this.listeners??(this.listeners=[])).push(r)},resolve:function(r){this.isFulfilled||this.isRejected||(this.isFulfilled=!0,this._resolve(r),this.onFinish())},reject:function(...r){this.isRejected||this.isFulfilled||(this.isRejected=!0,this._reject(...r),this.onFinish())},onFinish:function(){this.notify=this.notifyAll=this.lastNotify=null,this.listeners&&(this.listeners.length=0),this.cancel&&(this.cancel=At)}};let e,s;const n=new Promise((r,i)=>{e=r,s=i});return Object.assign(n,t),n._resolve=e,n._reject=s,n}function mc(t,e){t.then(e.resolve.bind(e),e.reject.bind(e))}self.deferredPromise=ue;function Xt(t,e,s=!0){let n=null,r,i;const o=()=>{clearInterval(n),n=null},a=(...u)=>{r=!0,i=u,n||(s&&(r=!1,t(...i)),n=setInterval(()=>{if(!r){o();return}r=!1,t(...i)},e))};return a.clear=o,a}const li={8:new Uint8Array(1),16:new Uint16Array(1),32:new Uint32Array(1)};function yt(t){const e=li[t];return crypto.getRandomValues(e),e[0]}function Ks(){return""+yt(32)+yt(32)%16777215}const hi="instances",di=1;class bt{constructor(){if(this.LIMIT_ACCOUNTS_DEFAULT=3,this.LIMIT_ACCOUNTS_PREMIUM=4,this.instances=[],this.unreadStats={},bt._instance)throw new Error("I cannot have more than one instance");bt._instance=this,this.construct()}async construct(){this.IDB=await this.initializeIDB(),this.instances=await this.fetchInstances(),this.instances.length===0&&this.instances.push({id:Ks(),logged_in:!1,active:!0}),await this.persistInstances(),typeof window<"u"&&window.addEventListener("storage",e=>{e.key==="last_instance_id"&&window.close()})}async initializeIDB(){return new Promise((e,s)=>{const n=indexedDB.open(hi,di);n.onupgradeneeded=r=>{const i=r.target.result;i.objectStoreNames.contains("instances")||i.createObjectStore("instances",{keyPath:"id"})},n.onsuccess=()=>{e(n.result)},n.onerror=()=>{s(n.error)}})}async fetchInstances(){return new Promise((e,s)=>{const i=this.IDB.transaction("instances","readonly").objectStore("instances").getAll();i.onsuccess=()=>e(i.result),i.onerror=()=>s(i.error)})}async persistInstances(){return new Promise((e,s)=>{const r=this.IDB.transaction("instances","readwrite").objectStore("instances"),i=this.instances.map(o=>new Promise((a,u)=>{const c=r.put(o);c.onsuccess=()=>a(!0),c.onerror=()=>u(c.error)}));Promise.all(i).then(o=>e(o)).catch(o=>s(o))})}async waitForInstances(){return new Promise(e=>{if(this.instances.length>0)e(!0);else{const s=setInterval(()=>{this.instances.length&&(clearInterval(s),e(!0))},100)}})}async destroyInstance(e){const r=this.IDB.transaction("instances","readwrite").objectStore("instances").delete(e);return this.instances=this.instances.filter(i=>i.id!=e),new Promise((i,o)=>{r.onsuccess=()=>{Ct.closeDatabases();const a=indexedDB.deleteDatabase(`tweb_${e}`);a.onblocked=()=>i(!1),a.onsuccess=()=>i(!0),a.onerror=()=>i(!1)},r.onerror=()=>i(!1)})}getInstanceIDs(){return this.instances.map(e=>e.id)}getActiveInstanceID(){return this.instances.find(e=>e.active)?.id??this.getLoggedInInstanceIDs()[0]}getLoggedInInstanceIDs(){return this.instances.filter(e=>e.logged_in).map(e=>e.id)}getPassiveInstanceIDs(){return this.getLoggedInInstanceIDs().length===1?[]:this.instances.filter(e=>!e.active&&e.logged_in).map(e=>e.id)}async switchToInstance(e=null,s="/"){const n=this.getActiveInstanceID();e||(e=Ks(),this.instances.push({id:e,logged_in:!1,active:!0})),this.instances=this.instances.map(r=>(r.active=r.id==e,r)),await this.persistInstances(),this.setLastInstanceId(n),location.href=s}async setInstanceLoggedIn(e){return this.instances.find(s=>s.id==e).logged_in=!0,this.persistInstances()}getLastInstanceId(){return localStorage.getItem("last_instance_id")}setLastInstanceId(e){return localStorage.setItem("last_instance_id",e)}toggleGlobalNotificationsHandler(e){localStorage.setItem("global_notifications_enabled",e.target.checked?"true":"false")}isGlobalNotificationsEnabled(){const e=localStorage.getItem("global_notifications_enabled");return e?e=="true":!0}getUnreadStats(){return this.unreadStats}setUnreadStats(e,s,n){this.unreadStats[e]={mute:s,unmute:n};const[r,i]=[Object.entries(this.unreadStats).map(([o,a])=>a.mute+a.unmute).reduce((o,a)=>o+a,0),Object.entries(this.unreadStats).map(([o,a])=>a.unmute).reduce((o,a)=>o+a,0)];r>0?(Oe.getPassiveInstanceIDs().length>0&&document.querySelector(".animated-menu-icon-indicator").classList.add("animated-menu-icon-indicator-visible"),i-(this.unreadStats[this.getActiveInstanceID()]?.unmute??0)>0?document.querySelector(".animated-menu-icon-indicator").classList.add("animated-menu-icon-indicator-active"):document.querySelector(".animated-menu-icon-indicator").classList.remove("animated-menu-icon-indicator-active")):document.querySelector(".animated-menu-icon-indicator").classList.remove("animated-menu-icon-indicator-visible")}}const Oe=new bt;function hs(t,e){if(e)for(const s in e)e[s]!==void 0&&(t[s]=e[s]);return t}const Xe=class Xe{constructor(e){hs(this,e),K.test&&(this.name+="_test"),this.storageIsAvailable=!0,this.log=ae(["IDB",e.name].join("-")),this.log("constructor"),this.openDatabase(!0),Xe.INSTANCES.push(this)}isAvailable(){return this.storageIsAvailable}async openDatabase(e=!1){if(this.openDbPromise&&!e)return this.openDbPromise;const s=(o,a)=>{const u=Array.from(o.indexNames);for(const c of u)o.deleteIndex(c);if(a.indexes?.length)for(const c of a.indexes)o.indexNames.contains(c.indexName)||o.createIndex(c.indexName,c.keyPath,c.objectParameters)},n=(o,a)=>{const u=o.createObjectStore(a.name);s(u,a)};try{let o;this.name==="tweb"?(await Oe.waitForInstances(),o=`${this.name}_${Oe.getActiveInstanceID()}`):this.name.startsWith("tweb_")?o=this.name:o=`tweb_${this.name}`;var r=indexedDB.open(o,this.version);if(!r)return Promise.reject()}catch(o){return this.log.error("error opening db",o.message),this.storageIsAvailable=!1,Promise.reject(o)}let i=!1;return setTimeout(()=>{i||r.onerror(ve("IDB_CREATE_TIMEOUT"))},3e3),this.openDbPromise=new Promise((o,a)=>{r.onsuccess=u=>{i=!0;const c=r.result;let l=!1;this.log("Opened"),c.onerror=d=>{this.storageIsAvailable=!1,this.log.error("Error creating/accessing IndexedDB database",d),a(d)},c.onclose=d=>{this.log.error("closed:",d),!l&&this.openDatabase()},c.onabort=d=>{this.log.error("abort:",d);const m=d.target;this.openDatabase(l=!0),m.onerror&&m.onerror(d),c.close()},c.onversionchange=d=>{this.log.error("onversionchange, lol?")},o(this.db=c)},r.onerror=u=>{i=!0,this.storageIsAvailable=!1,this.log.error("Error creating/accessing IndexedDB database",u),a(u)},r.onupgradeneeded=u=>{i=!0,this.log.warn("performing idb upgrade from",u.oldVersion,"to",u.newVersion);const c=u.target,l=c.result;this.stores.forEach(d=>{if(!l.objectStoreNames.contains(d.name))n(l,d);else{const g=c.transaction.objectStore(d.name);s(g,d)}})}})}static create(e){return this.INSTANCES.find(s=>s.name===e.name)??new Xe(e)}static closeDatabases(e){this.INSTANCES.forEach(s=>{if(e&&e===s)return;const n=s.db;n&&(n.onclose=()=>{},n.close())})}};Xe.INSTANCES=[];let Ct=Xe;class fi{constructor(e,s){this.storeName=s,this.log=ae(["IDB",e.name,s].join("-")),this.idb=Ct.create(e)}delete(e,s){const n=Array.isArray(e);return n||(e=[].concat(e)),this.getObjectStore("readwrite",r=>{const i=e.map(o=>r.delete(o));return n?i:i[0]},"",s)}clear(e){return this.getObjectStore("readwrite",s=>s.clear(),"",e)}save(e,s,n){const r=Array.isArray(e);return r||(e=[].concat(e),s=[].concat(s)),this.getObjectStore("readwrite",i=>{const o=e.map((a,u)=>i.put(s[u],a));return r?o:o[0]},"",n)}get(e,s){const n=Array.isArray(e);if(n){if(!e.length)return Promise.resolve([])}else{if(!e)return;e=[].concat(e)}return this.getObjectStore("readonly",r=>{const i=e.map(o=>r.get(o));return n?i:i[0]},"",s)}getObjectStore(e,s,n,r=this.storeName){let i;return n&&(i=performance.now(),this.log(n+": start")),this.idb.openDatabase().then(o=>new Promise((a,u)=>{const c=o.transaction([r],e,{durability:"relaxed"}),l=()=>{clearTimeout(g),u(c.error)},d=()=>{clearTimeout(g),n&&this.log(n+": end",performance.now()-i);const T=D.map(k=>k.result);a(S?T:T[0])};c.onerror=l;const m=e==="readwrite";m&&(c.oncomplete=()=>d());const g=setTimeout(()=>{this.log.error("transaction not finished",c,n)},1e4),v=s(c.objectStore(r)),S=Array.isArray(v),D=S?v:[].concat(v);if(m)return;const A=D.length;let w=A;const y=()=>{c.error||--w||d()};for(let T=0;T<A;++T){const k=D[T];k.onerror=l,k.onsuccess=y}}))}getAll(e){return this.getObjectStore("readonly",s=>s.getAll(),"",e)}}function Js(){}const Zt=16,Me=class Me{constructor(e,s){this.db=e,this.storeName=s,this.cache={},this.getPromises=new Map,this.keysToSet=new Set,this.saveDeferred=ue(),this.keysToDelete=new Set,this.deleteDeferred=ue(),this.storage=new fi(e,s),Me.STORAGES.length?this.useStorage=Me.STORAGES[0].useStorage:this.useStorage=!0,this.savingFreezed=!1,Me.STORAGES.push(this),this.saveThrottled=Xt(async()=>{const n=this.saveDeferred;this.saveDeferred=ue();const r=this.keysToSet;if(r.size){const i=Array.from(r.values());r.clear();const o=i.map(a=>this.cache[a]);try{await this.storage.save(i,o)}catch(a){console.error("[AS]: set error:",a,i,o)}}n.resolve(),r.size&&this.saveThrottled()},Zt,!1),this.deleteThrottled=Xt(async()=>{const n=this.deleteDeferred;this.deleteDeferred=ue();const r=this.keysToDelete;if(r.size){const i=Array.from(r.values());r.clear();try{await this.storage.delete(i)}catch(o){console.error("[AS]: delete error:",o,i)}}n.resolve(),r.size&&this.deleteThrottled()},Zt,!1),this.getThrottled=Xt(async()=>{const n=Array.from(this.getPromises.keys());this.storage.get(n).then(r=>{for(let i=0,o=n.length;i<o;++i){const a=n[i],u=this.getPromises.get(a);u&&(u.resolve(this.cache[a]=r[i]),this.getPromises.delete(a))}},r=>{new Set(["NO_ENTRY_FOUND","STORAGE_OFFLINE"]).has(r.type)||(this.useStorage=!1,console.error("[AS]: get error:",r,n,s));for(let o=0,a=n.length;o<a;++o){const u=n[o],c=this.getPromises.get(u);c&&(c.resolve(void 0),this.getPromises.delete(u))}}).finally(()=>{this.getPromises.size&&this.getThrottled()})},Zt,!1)}isAvailable(){return this.useStorage}getCache(){return this.cache}getFromCache(e){return this.cache[e]}setToCache(e,s){return this.cache[e]=s}async get(e,s=!0){if(this.cache.hasOwnProperty(e)&&s)return this.getFromCache(e);if(this.useStorage){const n=this.getPromises.get(e);if(n)return n;const r=ue();return this.getPromises.set(e,r),this.getThrottled(),r}}getAll(){return this.storage.getAll().catch(()=>[])}set(e,s=!1){const n=this.useStorage&&!s&&!this.savingFreezed;for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];this.setToCache(r,i),n&&(this.keysToSet.add(r),this.keysToDelete.delete(r),this.saveThrottled())}return n?this.saveDeferred:Promise.resolve()}delete(e,s=!1){return e=""+e,s||delete this.cache[e],this.useStorage&&(this.keysToSet.delete(e),this.keysToDelete.add(e),this.deleteThrottled()),this.useStorage?this.deleteDeferred:Promise.resolve()}clear(e=!1){if(!e)for(const s in this.cache)delete this.cache[s];return this.storage.clear().catch(Js)}static toggleStorage(e,s){return Promise.all(this.STORAGES.map(n=>{if(n.useStorage=e,!(!we||!s))return e?n.set(n.cache):(n.keysToSet.clear(),n.keysToDelete.clear(),n.getPromises.forEach(r=>r.resolve(void 0)),n.getPromises.clear(),n.clear(!0))})).catch(Js)}static freezeSaving(e,s){this.STORAGES.forEach(n=>n.savingFreezed=!0);try{e()}catch(n){console.error("freezeSaving callback error:",n)}this.STORAGES.forEach(n=>n.savingFreezed=!1)}};Me.STORAGES=[];let Ze=Me;_&&(_.AppStorage=Ze);const gi={name:"tweb",version:7,stores:[{name:"session"},{name:"stickerSets"},{name:"users"},{name:"chats"},{name:"dialogs"},{name:"messages"}]},mi=(t="default")=>{const e=JSON.parse(JSON.stringify(gi));return t!=="default"&&t.length>0&&(e.name=`tweb_${t}`),e};class Ln extends Ze{constructor(e="default"){super(mi(e),"session")}}const _t=new Ln;_.stateStorage=_t;const Ve={default:_t};function On(t,e,s){const n=s&&new Set(s),r=u=>Object.keys(u).filter(c=>u[c]!==void 0),i=s?u=>r(u).filter(c=>!n.has(c)):r,o=typeof t;return t&&e&&o==="object"&&o===typeof e?i(t).length===i(e).length&&i(t).every(u=>On(t[u],e[u],s)):t===e}function Nt(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Di=new Set(["javascript:"]);function Rn(t){if(!t)return null;try{const e=new URL(t).protocol;return Di.has(e)?null:e}catch{return null}}const pi="((?:ð¨ð»ââ¤ï¸?âðâð¨\uD83C[\uDFFB-\uDFFF]|ð¨ð¼ââ¤ï¸?âðâð¨\uD83C[\uDFFB-\uDFFF]|ð¨ð½ââ¤ï¸?âðâð¨\uD83C[\uDFFB-\uDFFF]|ð¨ð¾ââ¤ï¸?âðâð¨\uD83C[\uDFFB-\uDFFF]|ð¨ð¿ââ¤ï¸?âðâð¨\uD83C[\uDFFB-\uDFFF]|ð©ð»ââ¤ï¸?âðâð¨\uD83C[\uDFFB-\uDFFF]|ð©ð»ââ¤ï¸?âðâð©\uD83C[\uDFFB-\uDFFF]|ð©ð¼ââ¤ï¸?âðâð¨\uD83C[\uDFFB-\uDFFF]|ð©ð¼ââ¤ï¸?âðâð©\uD83C[\uDFFB-\uDFFF]|ð©ð½ââ¤ï¸?âðâð¨\uD83C[\uDFFB-\uDFFF]|ð©ð½ââ¤ï¸?âðâð©\uD83C[\uDFFB-\uDFFF]|ð©ð¾ââ¤ï¸?âðâð¨\uD83C[\uDFFB-\uDFFF]|ð©ð¾ââ¤ï¸?âðâð©\uD83C[\uDFFB-\uDFFF]|ð©ð¿ââ¤ï¸?âðâð¨\uD83C[\uDFFB-\uDFFF]|ð©ð¿ââ¤ï¸?âðâð©\uD83C[\uDFFB-\uDFFF]|ð§ð»ââ¤ï¸?âðâð§\uD83C[\uDFFC-\uDFFF]|ð§ð¼ââ¤ï¸?âðâð§\uD83C[\uDFFB\uDFFD-\uDFFF]|ð§ð½ââ¤ï¸?âðâð§\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|ð§ð¾ââ¤ï¸?âðâð§\uD83C[\uDFFB-\uDFFD\uDFFF]|ð§ð¿ââ¤ï¸?âðâð§\uD83C[\uDFFB-\uDFFE]|ð¨ð»ââ¤ï¸?âð¨\uD83C[\uDFFB-\uDFFF]|ð¨ð»âð¤âð¨\uD83C[\uDFFC-\uDFFF]|ð¨ð¼ââ¤ï¸?âð¨\uD83C[\uDFFB-\uDFFF]|ð¨ð¼âð¤âð¨\uD83C[\uDFFB\uDFFD-\uDFFF]|ð¨ð½ââ¤ï¸?âð¨\uD83C[\uDFFB-\uDFFF]|ð¨ð½âð¤âð¨\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|ð¨ð¾ââ¤ï¸?âð¨\uD83C[\uDFFB-\uDFFF]|ð¨ð¾âð¤âð¨\uD83C[\uDFFB-\uDFFD\uDFFF]|ð¨ð¿ââ¤ï¸?âð¨\uD83C[\uDFFB-\uDFFF]|ð¨ð¿âð¤âð¨\uD83C[\uDFFB-\uDFFE]|ð©ð»ââ¤ï¸?âð¨\uD83C[\uDFFB-\uDFFF]|ð©ð»ââ¤ï¸?âð©\uD83C[\uDFFB-\uDFFF]|ð©ð»âð¤âð¨\uD83C[\uDFFC-\uDFFF]|ð©ð»âð¤âð©\uD83C[\uDFFC-\uDFFF]|ð©ð¼ââ¤ï¸?âð¨\uD83C[\uDFFB-\uDFFF]|ð©ð¼ââ¤ï¸?âð©\uD83C[\uDFFB-\uDFFF]|ð©ð¼âð¤âð¨\uD83C[\uDFFB\uDFFD-\uDFFF]|ð©ð¼âð¤âð©\uD83C[\uDFFB\uDFFD-\uDFFF]|ð©ð½ââ¤ï¸?âð¨\uD83C[\uDFFB-\uDFFF]|ð©ð½ââ¤ï¸?âð©\uD83C[\uDFFB-\uDFFF]|ð©ð½âð¤âð¨\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|ð©ð½âð¤âð©\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|ð©ð¾ââ¤ï¸?âð¨\uD83C[\uDFFB-\uDFFF]|ð©ð¾ââ¤ï¸?âð©\uD83C[\uDFFB-\uDFFF]|ð©ð¾âð¤âð¨\uD83C[\uDFFB-\uDFFD\uDFFF]|ð©ð¾âð¤âð©\uD83C[\uDFFB-\uDFFD\uDFFF]|ð©ð¿ââ¤ï¸?âð¨\uD83C[\uDFFB-\uDFFF]|ð©ð¿ââ¤ï¸?âð©\uD83C[\uDFFB-\uDFFF]|ð©ð¿âð¤âð¨\uD83C[\uDFFB-\uDFFE]|ð©ð¿âð¤âð©\uD83C[\uDFFB-\uDFFE]|ð§ð»ââ¤ï¸?âð§\uD83C[\uDFFC-\uDFFF]|ð§ð»âð¤âð§\uD83C[\uDFFB-\uDFFF]|ð§ð¼ââ¤ï¸?âð§\uD83C[\uDFFB\uDFFD-\uDFFF]|ð§ð¼âð¤âð§\uD83C[\uDFFB-\uDFFF]|ð§ð½ââ¤ï¸?âð§\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|ð§ð½âð¤âð§\uD83C[\uDFFB-\uDFFF]|ð§ð¾ââ¤ï¸?âð§\uD83C[\uDFFB-\uDFFD\uDFFF]|ð§ð¾âð¤âð§\uD83C[\uDFFB-\uDFFF]|ð§ð¿ââ¤ï¸?âð§\uD83C[\uDFFB-\uDFFE]|ð§ð¿âð¤âð§\uD83C[\uDFFB-\uDFFF]|ð¨ââ¤ï¸?âðâð¨|ð©ââ¤ï¸?âðâ\uD83D[\uDC68\uDC69]|ð«±ð»âð«²\uD83C[\uDFFC-\uDFFF]|ð«±ð¼âð«²\uD83C[\uDFFB\uDFFD-\uDFFF]|ð«±ð½âð«²\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|ð«±ð¾âð«²\uD83C[\uDFFB-\uDFFD\uDFFF]|ð«±ð¿âð«²\uD83C[\uDFFB-\uDFFE]|ð¨ââ¤ï¸?âð¨|ð©ââ¤ï¸?â\uD83D[\uDC68\uDC69]|ð§âð¤âð§|ð«\uD83C[\uDFFB-\uDFFF]|ð¬\uD83C[\uDFFB-\uDFFF]|ð­\uD83C[\uDFFB-\uDFFF]|ð\uD83C[\uDFFB-\uDFFF]|ð\uD83C[\uDFFB-\uDFFF]|ð¤\uD83C[\uDFFB-\uDFFF]|\uD83D[\uDC6B-\uDC6D\uDC8F\uDC91]|ð¤)|(?:\uD83D[\uDC68\uDC69]|ð§)(?:\uD83C[\uDFFB-\uDFFF])?â(?:âï¸?|âï¸?|âï¸?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C[\uDFCB\uDFCC]|\uD83D[\uDD74\uDD75]|â¹)(?:(?:\uD83C[\uDFFB-\uDFFF]|ï¸?)â[ââ]ï¸?)|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?â[ââ]ï¸?|(?:ð¨âð¨âð¦âð¦|ð¨âð¨âð§â\uD83D[\uDC66\uDC67]|ð¨âð©âð¦âð¦|ð¨âð©âð§â\uD83D[\uDC66\uDC67]|ð©âð©âð¦âð¦|ð©âð©âð§â\uD83D[\uDC66\uDC67]|ð¨âð¦âð¦|ð¨âð§â\uD83D[\uDC66\uDC67]|ð¨âð¨â\uD83D[\uDC66\uDC67]|ð¨âð©â\uD83D[\uDC66\uDC67]|ð©âð¦âð¦|ð©âð§â\uD83D[\uDC66\uDC67]|ð©âð©â\uD83D[\uDC66\uDC67]|ð³ï¸?ââ§ï¸?|ð³ï¸?âð|ð¶âð«ï¸?|â¤ï¸?âð¥|â¤ï¸?âð©¹|ð´ââ ï¸?|ðâð¦º|ð»ââï¸?|ðâð¨|ð¨â\uD83D[\uDC66\uDC67]|ð©â\uD83D[\uDC66\uDC67]|ð¯ââï¸?|ð¯ââï¸?|ð®âð¨|ðµâð«|ð¤¼ââï¸?|ð¤¼ââï¸?|ð§ââï¸?|ð§ââï¸?|ð§ââï¸?|ð§ââï¸?|ðââ¬)|[#*0-9]ï¸??â£|(?:[Â©Â®â¢â]ï¸?)|(?:\uD83C[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE1A\uDE2F\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF3\uDFF5\uDFF7]|\uD83D[\uDC3F\uDC41\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]|[â¼ââ¹â-ââ©âªâââ¨ââ­-â¯â±â²â¸-âºââªâ«â¶ââ»-â¾â-âââââââ â¢â£â¦âªâ®â¯â¸-âºâââ-ââ â£â¥â¦â¨â»â¿â-âââââ â¡â§âªâ«â°â±â½â¾ââââââââ©âªâ°-âµâ¸âºâ½âââââââââ¡â³â´ââââ£â¤â¡â¤´â¤µâ¬-â¬â¬â¬â­â­ã°ã½ãã])(?:ï¸?|(?!ï¸))|(?:(?:\uD83C[\uDFCB\uDFCC]|\uD83D[\uDD74\uDD75\uDD90]|[ââ·â¹ââ])(?:ï¸?|(?!ï¸))|(?:\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD7A\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD\uDEC3-\uDEC5\uDEF0-\uDEF6]|[ââ]))(?:\uD83C[\uDFFB-\uDFFF])?|(?:ð´ó §ó ¢ó ¥ó ®ó §ó ¿|ð´ó §ó ¢ó ³ó £ó ´ó ¿|ð´ó §ó ¢ó ·ó ¬ó ³ó ¿|ð¦\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|ð§\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|ð¨\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|ð©\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|ðª\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|ð«\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|ð¬\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|ð­\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|ð®\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|ð¯\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|ð°\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|ð±\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|ð²\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|ð³\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|ð´ð²|ðµ\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|ð¶ð¦|ð·\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|ð¸\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|ð¹\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|ðº\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|ð»\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|ð¼\uD83C[\uDDEB\uDDF8]|ð½ð°|ð¾\uD83C[\uDDEA\uDDF9]|ð¿\uD83C[\uDDE6\uDDF2\uDDFC]|\uD83C[\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC6F\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3C\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDDE-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|[â©-â¬â°â³â¾âââ¨âââ-ââ-ââ°â¿î])|ï¸)",Je="a-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u00ff\\u0100-\\u024f\\u0253\\u0254\\u0256\\u0257\\u0259\\u025b\\u0263\\u0268\\u026f\\u0272\\u0289\\u028b\\u02bb\\u0300-\\u036f\\u1e00-\\u1eff\\u0400-\\u04ff\\u0500-\\u0527\\u2de0-\\u2dff\\ua640-\\ua69f\\u0591-\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u05d0-\\u05ea\\u05f0-\\u05f4\\ufb1d-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4f\\u0610-\\u061a\\u0620-\\u065f\\u066e-\\u06d3\\u06d5-\\u06dc\\u06de-\\u06e8\\u06ea-\\u06ef\\u06fa-\\u06fc\\u06ff\\u0750-\\u077f\\u08a0\\u08a2-\\u08ac\\u08e4-\\u08fe\\ufb50-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\u200c\\u0e01-\\u0e3a\\u0e40-\\u0e4e\\u1100-\\u11ff\\u3130-\\u3185\\uA960-\\uA97F\\uAC00-\\uD7AF\\uD7B0-\\uD7FF\\u3003\\u3005\\u303b\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uff9f\\uffa1-\\uffdc",Ei="0-9_"+Je,Xs="Â·",lt="["+Je+"0-9]",Fi="((?:https?|ftp)://|mailto:)?",vi=Fi+"(?:"+lt+"{1,64}(?::"+lt+"{0,64})?@)?(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}|"+lt+"["+Je+Xs+"0-9-]{0,64}(?:\\."+lt+"["+Je+Xs+"0-9-]{0,64}){0,10}(?:\\.(xn--[0-9a-z]{2,16}|["+Je+`]{2,24})))(?::\\d{2,5})?(?:/(?:\\S{0,255}[^\\s.;,(\\[\\]{}<>"'])?)?`,xn="[a-zA-Z\\d_]{5,32}",Ai="(?:\\s|^)((?:(\\d{1,2}):(?:[0-5]?[0-9])|(?:\\d{1,2}|\\d{3,})):(?:[0-5][0-9]))(?:\\s|$)",Si="\\/([a-zA-Z\\d_]{1,32})(?:@("+xn+"))?(\\b|$)",Dc=new RegExp("(^| )(@)("+xn+")|("+vi+")|(\\n)|("+pi+")|(^|[\\s\\(\\]])(#["+Ei+"]{2,64})|(^|\\s)"+Si+"|"+Ai,"i"),pc=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ec=/(^|\s|\n)(````?)([\s\S]+?)(````?)([\s\n\.,:?!;]|$)|(^|\s|\x01)(`|~~|\*\*|__|_-_|\|\|)([^\n]+?)\7([\x01\s\.,:?!;]|$)|@(\d+)\s*\((.+?)\)|(\[(.+?)\]\((.+?)\))/m,Fc={Telegram:"tg://search_hashtag?hashtag={1}",Twitter:"https://twitter.com/hashtag/{1}",Instagram:"https://instagram.com/explore/tags/{1}/","Google Plus":"https://plus.google.com/explore/{1}"},ds={"`":"messageEntityCode","``":"messageEntityPre","**":"messageEntityBold",__:"messageEntityItalic","~~":"messageEntityStrike","_-_":"messageEntityUnderline","||":"messageEntitySpoiler"};new Set(Object.values(ds));const Bn=new Set(["messageEntityEmoji","messageEntityLinebreak","messageEntityCaret"]),vc=new Set(Bn);for(const t in ds)Bn.add(ds[t]);const wi=/^\+\d+$/;function Nn(t,e){Rn(t)||(t="https://"+t);const s={url:t};let n,r,i;if(n=t.match(/^(?:https?:\/\/)?(?:(.+?)\.)?(?:(?:web|k|z|a)\.)?t(?:elegram)?\.me(?:\/(.+))?/)){const o=new URL(t);let a=n[1];a&&Xr.has(n[1])&&(a=void 0),a&&(o.pathname=a+(o.pathname==="/"?"":o.pathname));const u=o.pathname.slice(1),c=u.split("/");if(c[0]&&c[0][0]==="$"&&c[0].length>1)i="invoice";else if(/^\+/.test(u)&&!wi.test(u))i="joinchat";else if(c[0])switch(c[0]){case"m":case"addlist":case"joinchat":case"addstickers":case"addemoji":case"voicechat":case"invoice":case"boost":case"giftcode":if(c.length!==1&&!a){i=c[0];break}default:if(c.length<=2||c[1]?.match(/^\d+(?:\?(?:comment|thread)=\d+)?$/)||c[1]==="s"){i="im";break}break}}else t.match(/^(?:https?:\/\/)?telesco\.pe\/([^/?]+)\/(\d+)/)?i="im":(r=t.match(/tg:(?:\/\/)?(.+?)(?:\?|$)/))&&(i="tg_"+r[1]);return window[i]||(i=void 0),s.onclick=i,s}_&&(_.wrapUrl=Nn);function Ac(t,e){Un(t),e===void 0?t.replaceChildren():typeof e=="string"?e?t.textContent=e:t.replaceChildren():t.replaceChildren(e)}function Un(t){t.setAttribute("dir","auto")}function Sc(){return"auto"}function yi(t){return t.target="_blank",t.rel="noopener noreferrer",t}const x={context:void 0,registry:void 0};function ze(t){x.context=t}const bi=(t,e)=>t===e,re=Symbol("solid-proxy"),fs=Symbol("solid-track"),Pt={equals:bi};let Wn=Hn;const ie=1,Qe=2,jn={owned:null,cleanups:null,context:null,owner:null},Qt={};var P=null;let p=null,Ci=null,L=null,$=null,V=null,Ut=0;function Ae(t,e){const s=L,n=P,r=t.length===0,i=e===void 0?n:e,o=r?jn:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=r?t:()=>t(()=>Q(()=>ge(o)));P=o,L=null;try{return X(a,!0)}finally{L=s,P=n}}function te(t,e){e=e?Object.assign({},Pt,e):Pt;const s={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},n=r=>(typeof r=="function"&&(p&&p.running&&p.sources.has(s)?r=r(s.tValue):r=r(s.value)),Yn(s,r));return[$n.bind(s),n]}function Zs(t,e,s){const n=ut(t,e,!0,ie);Ce(n)}function _i(t,e,s){const n=ut(t,e,!1,ie);Ce(n)}function Pi(t,e,s){Wn=Ni;const n=ut(t,e,!1,ie),r=he&&Wt(he);r&&(n.suspense=r),(!s||!s.render)&&(n.user=!0),V?V.push(n):Ce(n)}function wc(t,e){let s;const n=ut(()=>{s?s():Q(t),s=void 0},void 0,!1,0),r=he&&Wt(he);return r&&(n.suspense=r),n.user=!0,i=>{s=i,Ce(n)}}function se(t,e,s){s=s?Object.assign({},Pt,s):Pt;const n=ut(t,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,Ce(n),$n.bind(n)}function ki(t){return t&&typeof t=="object"&&"then"in t}function yc(t,e,s){let n,r,i;arguments.length===2&&typeof e=="object"||arguments.length===1?(n=!0,r=t,i=e||{}):(n=t,r=e,i={});let o=null,a=Qt,u=null,c=!1,l=!1,d="initialValue"in i,m=typeof n=="function"&&se(n);const g=new Set,[v,S]=(i.storage||te)(i.initialValue),[D,A]=te(void 0),[w,y]=te(void 0,{equals:!1}),[T,k]=te(d?"ready":"unresolved");if(x.context){u=`${x.context.id}${x.context.count++}`;let h;i.ssrLoadFrom==="initial"?a=i.initialValue:x.load&&(h=x.load(u))&&(a=h)}function U(h,f,E,F){return o===h&&(o=null,F!==void 0&&(d=!0),(h===a||f===a)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(F,{value:f})),a=Qt,p&&h&&c?(p.promises.delete(h),c=!1,X(()=>{p.running=!0,b(f,E)},!1)):b(f,E)),f}function b(h,f){X(()=>{f===void 0&&S(()=>h),k(f!==void 0?"errored":d?"ready":"unresolved"),A(f);for(const E of g.keys())E.decrement();g.clear()},!1)}function O(){const h=he&&Wt(he),f=v(),E=D();if(E!==void 0&&!o)throw E;return L&&!L.user&&h&&Zs(()=>{w(),o&&(h.resolved&&p&&c?p.promises.add(o):g.has(h)||(h.increment(),g.add(h)))}),f}function R(h=!0){if(h!==!1&&l)return;l=!1;const f=m?m():n;if(c=p&&p.running,f==null||f===!1){U(o,Q(v));return}p&&o&&p.promises.delete(o);const E=a!==Qt?a:Q(()=>r(f,{value:v(),refetching:h}));return ki(E)?(o=E,"value"in E?(E.status==="success"?U(o,E.value,void 0,f):U(o,void 0,void 0,f),E):(l=!0,queueMicrotask(()=>l=!1),X(()=>{k(d?"refreshing":"pending"),y()},!1),E.then(F=>U(E,F,void 0,f),F=>U(E,void 0,Kn(F),f)))):(U(o,E,void 0,f),E)}return Object.defineProperties(O,{state:{get:()=>T()},error:{get:()=>D()},loading:{get(){const h=T();return h==="pending"||h==="refreshing"}},latest:{get(){if(!d)return O();const h=D();if(h&&!o)throw h;return v()}}}),m?Zs(()=>R(!1)):R(!1),[O,{refetch:R,mutate:S}]}function Ti(t){return X(t,!1)}function Q(t){if(L===null)return t();const e=L;L=null;try{return t()}finally{L=e}}function bc(t,e,s){const n=Array.isArray(t);let r,i=s&&s.defer;return o=>{let a;if(n){a=Array(t.length);for(let c=0;c<t.length;c++)a[c]=t[c]()}else a=t();if(i)return i=!1,o;const u=Q(()=>e(a,r,o));return r=a,u}}function Cc(t){Pi(()=>Q(t))}function Vn(t){return P===null||(P.cleanups===null?P.cleanups=[t]:P.cleanups.push(t)),t}function gs(){return L}function Ii(){return P}function _c(t,e){const s=P,n=L;P=t,L=null;try{return X(e,!0)}catch(r){Is(r)}finally{P=s,L=n}}function Mi(t){if(p&&p.running)return t(),p.done;const e=L,s=P;return Promise.resolve().then(()=>{L=e,P=s;let n;return he&&(n=p||(p={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),n.done||(n.done=new Promise(r=>n.resolve=r)),n.running=!0),X(t,!1),L=P=null,n?n.done:void 0})}const[Li,Qs]=te(!1);function Pc(){return[Li,Mi]}function Oi(t){V.push.apply(V,t),t.length=0}function Gn(t,e){const s=Symbol("context");return{id:s,Provider:Ui(s),defaultValue:t}}function Wt(t){return P&&P.context&&P.context[t.id]!==void 0?P.context[t.id]:t.defaultValue}function Ri(t){const e=se(t),s=se(()=>ms(e()));return s.toArray=()=>{const n=s();return Array.isArray(n)?n:n!=null?[n]:[]},s}let he;function xi(){return he||(he=Gn())}function $n(){const t=p&&p.running;if(this.sources&&(t?this.tState:this.state))if((t?this.tState:this.state)===ie)Ce(this);else{const e=$;$=null,X(()=>Tt(this),!1),$=e}if(L){const e=this.observers?this.observers.length:0;L.sources?(L.sources.push(this),L.sourceSlots.push(e)):(L.sources=[this],L.sourceSlots=[e]),this.observers?(this.observers.push(L),this.observerSlots.push(L.sources.length-1)):(this.observers=[L],this.observerSlots=[L.sources.length-1])}return t&&p.sources.has(this)?this.tValue:this.value}function Yn(t,e,s){let n=p&&p.running&&p.sources.has(t)?t.tValue:t.value;if(!t.comparator||!t.comparator(n,e)){if(p){const r=p.running;(r||!s&&p.sources.has(t))&&(p.sources.add(t),t.tValue=e),r||(t.value=e)}else t.value=e;t.observers&&t.observers.length&&X(()=>{for(let r=0;r<t.observers.length;r+=1){const i=t.observers[r],o=p&&p.running;o&&p.disposed.has(i)||((o?!i.tState:!i.state)&&(i.pure?$.push(i):V.push(i),i.observers&&zn(i)),o?i.tState=ie:i.state=ie)}if($.length>1e6)throw $=[],new Error},!1)}return e}function Ce(t){if(!t.fn)return;ge(t);const e=Ut;en(t,p&&p.running&&p.sources.has(t)?t.tValue:t.value,e),p&&!p.running&&p.sources.has(t)&&queueMicrotask(()=>{X(()=>{p&&(p.running=!0),L=P=t,en(t,t.tValue,e),L=P=null},!1)})}function en(t,e,s){let n;const r=P,i=L;L=P=t;try{n=t.fn(e)}catch(o){return t.pure&&(p&&p.running?(t.tState=ie,t.tOwned&&t.tOwned.forEach(ge),t.tOwned=void 0):(t.state=ie,t.owned&&t.owned.forEach(ge),t.owned=null)),t.updatedAt=s+1,Is(o)}finally{L=i,P=r}(!t.updatedAt||t.updatedAt<=s)&&(t.updatedAt!=null&&"observers"in t?Yn(t,n,!0):p&&p.running&&t.pure?(p.sources.add(t),t.tValue=n):t.value=n,t.updatedAt=s)}function ut(t,e,s,n=ie,r){const i={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:P,context:P?P.context:null,pure:s};return p&&p.running&&(i.state=0,i.tState=n),P===null||P!==jn&&(p&&p.running&&P.pure?P.tOwned?P.tOwned.push(i):P.tOwned=[i]:P.owned?P.owned.push(i):P.owned=[i]),i}function kt(t){const e=p&&p.running;if((e?t.tState:t.state)===0)return;if((e?t.tState:t.state)===Qe)return Tt(t);if(t.suspense&&Q(t.suspense.inFallback))return t.suspense.effects.push(t);const s=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ut);){if(e&&p.disposed.has(t))return;(e?t.tState:t.state)&&s.push(t)}for(let n=s.length-1;n>=0;n--){if(t=s[n],e){let r=t,i=s[n+1];for(;(r=r.owner)&&r!==i;)if(p.disposed.has(r))return}if((e?t.tState:t.state)===ie)Ce(t);else if((e?t.tState:t.state)===Qe){const r=$;$=null,X(()=>Tt(t,s[0]),!1),$=r}}}function X(t,e){if($)return t();let s=!1;e||($=[]),V?s=!0:V=[],Ut++;try{const n=t();return Bi(s),n}catch(n){s||(V=null),$=null,Is(n)}}function Bi(t){if($&&(Hn($),$=null),t)return;let e;if(p){if(!p.promises.size&&!p.queue.size){const n=p.sources,r=p.disposed;V.push.apply(V,p.effects),e=p.resolve;for(const i of V)"tState"in i&&(i.state=i.tState),delete i.tState;p=null,X(()=>{for(const i of r)ge(i);for(const i of n){if(i.value=i.tValue,i.owned)for(let o=0,a=i.owned.length;o<a;o++)ge(i.owned[o]);i.tOwned&&(i.owned=i.tOwned),delete i.tValue,delete i.tOwned,i.tState=0}Qs(!1)},!1)}else if(p.running){p.running=!1,p.effects.push.apply(p.effects,V),V=null,Qs(!0);return}}const s=V;V=null,s.length&&X(()=>Wn(s),!1),e&&e()}function Hn(t){for(let e=0;e<t.length;e++)kt(t[e])}function Ni(t){let e,s=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[s++]=n:kt(n)}if(x.context){if(x.count){x.effects||(x.effects=[]),x.effects.push(...t.slice(0,s));return}else x.effects&&(t=[...x.effects,...t],s+=x.effects.length,delete x.effects);ze()}for(e=0;e<s;e++)kt(t[e])}function Tt(t,e){const s=p&&p.running;s?t.tState=0:t.state=0;for(let n=0;n<t.sources.length;n+=1){const r=t.sources[n];if(r.sources){const i=s?r.tState:r.state;i===ie?r!==e&&(!r.updatedAt||r.updatedAt<Ut)&&kt(r):i===Qe&&Tt(r,e)}}}function zn(t){const e=p&&p.running;for(let s=0;s<t.observers.length;s+=1){const n=t.observers[s];(e?!n.tState:!n.state)&&(e?n.tState=Qe:n.state=Qe,n.pure?$.push(n):V.push(n),n.observers&&zn(n))}}function ge(t){let e;if(t.sources)for(;t.sources.length;){const s=t.sources.pop(),n=t.sourceSlots.pop(),r=s.observers;if(r&&r.length){const i=r.pop(),o=s.observerSlots.pop();n<r.length&&(i.sourceSlots[o]=n,r[n]=i,s.observerSlots[n]=o)}}if(p&&p.running&&t.pure){if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)ge(t.tOwned[e]);delete t.tOwned}qn(t,!0)}else if(t.owned){for(e=t.owned.length-1;e>=0;e--)ge(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}p&&p.running?t.tState=0:t.state=0}function qn(t,e){if(e||(t.tState=0,p.disposed.add(t)),t.owned)for(let s=0;s<t.owned.length;s++)qn(t.owned[s])}function Kn(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Is(t,e=P){const s=Kn(t);{console.error("solid error",s);return}}function ms(t){if(typeof t=="function"&&!t.length)return ms(t());if(Array.isArray(t)){const e=[];for(let s=0;s<t.length;s++){const n=ms(t[s]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function Ui(t,e){return function(n){let r;return _i(()=>r=Q(()=>(P.context={...P.context,[t]:n.value},Ri(()=>n.children))),void 0),r}}const Wi=Symbol("fallback");function tn(t){for(let e=0;e<t.length;e++)t[e]()}function ji(t,e,s={}){let n=[],r=[],i=[],o=0,a=e.length>1?[]:null;return Vn(()=>tn(i)),()=>{let u=t()||[],c,l;return u[fs],Q(()=>{let m=u.length,g,v,S,D,A,w,y,T,k;if(m===0)o!==0&&(tn(i),i=[],n=[],r=[],o=0,a&&(a=[])),s.fallback&&(n=[Wi],r[0]=Ae(U=>(i[0]=U,s.fallback())),o=1);else if(o===0){for(r=new Array(m),l=0;l<m;l++)n[l]=u[l],r[l]=Ae(d);o=m}else{for(S=new Array(m),D=new Array(m),a&&(A=new Array(m)),w=0,y=Math.min(o,m);w<y&&n[w]===u[w];w++);for(y=o-1,T=m-1;y>=w&&T>=w&&n[y]===u[T];y--,T--)S[T]=r[y],D[T]=i[y],a&&(A[T]=a[y]);for(g=new Map,v=new Array(T+1),l=T;l>=w;l--)k=u[l],c=g.get(k),v[l]=c===void 0?-1:c,g.set(k,l);for(c=w;c<=y;c++)k=n[c],l=g.get(k),l!==void 0&&l!==-1?(S[l]=r[c],D[l]=i[c],a&&(A[l]=a[c]),l=v[l],g.set(k,l)):i[c]();for(l=w;l<m;l++)l in S?(r[l]=S[l],i[l]=D[l],a&&(a[l]=A[l],a[l](l))):r[l]=Ae(d);r=r.slice(0,o=m),n=u.slice(0)}return r});function d(m){if(i[l]=m,a){const[g,v]=te(l);return a[l]=v,e(u[l],g)}return e(u[l])}}}function Vi(t,e){return Q(()=>t(e||{}))}function ht(){return!0}const Ds={get(t,e,s){return e===re?s:t.get(e)},has(t,e){return e===re?!0:t.has(e)},set:ht,deleteProperty:ht,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:ht,deleteProperty:ht}},ownKeys(t){return t.keys()}};function es(t){return(t=typeof t=="function"?t():t)?t:{}}function Gi(){for(let t=0,e=this.length;t<e;++t){const s=this[t]();if(s!==void 0)return s}}function kc(...t){let e=!1;for(let o=0;o<t.length;o++){const a=t[o];e=e||!!a&&re in a,t[o]=typeof a=="function"?(e=!0,se(a)):a}if(e)return new Proxy({get(o){for(let a=t.length-1;a>=0;a--){const u=es(t[a])[o];if(u!==void 0)return u}},has(o){for(let a=t.length-1;a>=0;a--)if(o in es(t[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<t.length;a++)o.push(...Object.keys(es(t[a])));return[...new Set(o)]}},Ds);const s={},n=Object.create(null);for(let o=t.length-1;o>=0;o--){const a=t[o];if(!a)continue;const u=Object.getOwnPropertyNames(a);for(let c=u.length-1;c>=0;c--){const l=u[c];if(l==="__proto__"||l==="constructor")continue;const d=Object.getOwnPropertyDescriptor(a,l);if(!n[l])n[l]=d.get?{enumerable:!0,configurable:!0,get:Gi.bind(s[l]=[d.get.bind(a)])}:d.value!==void 0?d:void 0;else{const m=s[l];m&&(d.get?m.push(d.get.bind(a)):d.value!==void 0&&m.push(()=>d.value))}}}const r={},i=Object.keys(n);for(let o=i.length-1;o>=0;o--){const a=i[o],u=n[a];u&&u.get?Object.defineProperty(r,a,u):r[a]=u?u.value:void 0}return r}function Tc(t,...e){if(re in t){const r=new Set(e.length>1?e.flat():e[0]),i=e.map(o=>new Proxy({get(a){return o.includes(a)?t[a]:void 0},has(a){return o.includes(a)&&a in t},keys(){return o.filter(a=>a in t)}},Ds));return i.push(new Proxy({get(o){return r.has(o)?void 0:t[o]},has(o){return r.has(o)?!1:o in t},keys(){return Object.keys(t).filter(o=>!r.has(o))}},Ds)),i}const s={},n=e.map(()=>({}));for(const r of Object.getOwnPropertyNames(t)){const i=Object.getOwnPropertyDescriptor(t,r),o=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let a=!1,u=0;for(const c of e)c.includes(r)&&(a=!0,o?n[u][r]=i.value:Object.defineProperty(n[u],r,i)),++u;a||(o?s[r]=i.value:Object.defineProperty(s,r,i))}return[...n,s]}const $i=t=>`Stale read from <${t}>.`;function Ic(t){const e="fallback"in t&&{fallback:()=>t.fallback};return se(ji(()=>t.each,t.children,e||void 0))}function Mc(t){const e=t.keyed,s=se(()=>t.when,void 0,{equals:(n,r)=>e?n===r:!n==!r});return se(()=>{const n=s();if(n){const r=t.children;return typeof r=="function"&&r.length>0?Q(()=>r(e?n:()=>{if(!Q(s))throw $i("Show");return t.when})):r}return t.fallback},void 0,void 0)}const Yi=Gn();function Lc(t){let e=0,s,n,r,i,o;const[a,u]=te(!1),c=xi(),l={increment:()=>{++e===1&&u(!0)},decrement:()=>{--e===0&&u(!1)},inFallback:a,effects:[],resolved:!1},d=Ii();if(x.context&&x.load){const v=x.context.id+x.context.count;let S=x.load(v);if(S&&(typeof S!="object"||S.status!=="success"?r=S:x.gather(v)),r&&r!=="$$f"){const[D,A]=te(void 0,{equals:!1});i=D,r.then(()=>{if(x.done)return A();x.gather(v),ze(n),A(),ze()},w=>{o=w,A()})}}const m=Wt(Yi);m&&(s=m.register(l.inFallback));let g;return Vn(()=>g&&g()),Vi(c.Provider,{value:l,get children(){return se(()=>{if(o)throw o;if(n=x.context,i)return i(),i=void 0;n&&r==="$$f"&&ze();const v=se(()=>t.children);return se(S=>{const D=l.inFallback(),{showContent:A=!0,showFallback:w=!0}=s?s():{};if((!D||r&&r!=="$$f")&&A)return l.resolved=!0,g&&g(),g=n=r=void 0,Oi(l.effects),v();if(w)return g?S:Ae(y=>(g=y,n&&(ze({id:n.id+"f",count:0}),n=void 0),t.fallback),d)})})}})}const Oc={messageActionChatCreate:"ActionCreateGroup",messageActionChatCreateYou:"ActionYouCreateGroup",messageActionChatEditTitle:"ActionChangedTitle",messageActionChatEditPhoto:"ActionChangedPhoto",messageActionChatEditVideo:"ActionChangedVideo",messageActionChatDeletePhoto:"ActionRemovedPhoto",messageActionChatReturn:"ActionAddUserSelf",messageActionChatReturnYou:"ActionAddUserSelfYou",messageActionChatJoined:"ActionAddUserSelfMega",messageActionChatJoinedYou:"ChannelMegaJoined",messageActionChatAddUser:"ActionAddUser",messageActionChatAddUsers:"ActionAddUser",messageActionChatLeave:"ActionLeftUser",messageActionChatLeaveYou:"YouLeft",messageActionChatDeleteUser:"ActionKickUser",messageActionChatJoinedByLink:"ActionInviteUser",messageActionPinMessage:"Chat.Service.Group.UpdatedPinnedMessage",messageActionContactSignUp:"Chat.Service.PeerJoinedTelegram",messageActionChannelCreate:"ActionCreateChannel",messageActionChannelEditTitle:"Chat.Service.Channel.UpdatedTitle",messageActionChannelEditPhoto:"Chat.Service.Channel.UpdatedPhoto",messageActionChannelEditVideo:"Chat.Service.Channel.UpdatedVideo",messageActionChannelDeletePhoto:"Chat.Service.Channel.RemovedPhoto",messageActionHistoryClear:"HistoryCleared",messageActionDiscussionStarted:"DiscussionStarted",messageActionGiveawayLaunch:"BoostingGiveawayJustStarted",messageActionChannelJoined:"ChannelJoined",messageActionChannelMigrateFrom:"ActionMigrateFromGroup","messageActionPhoneCall.video_in_ok":"ChatList.Service.VideoCall.incoming","messageActionPhoneCall.video_out_ok":"ChatList.Service.VideoCall.outgoing","messageActionPhoneCall.video_missed":"ChatList.Service.VideoCall.Missed","messageActionPhoneCall.video_cancelled":"ChatList.Service.VideoCall.Cancelled","messageActionPhoneCall.in_ok":"ChatList.Service.Call.incoming","messageActionPhoneCall.out_ok":"ChatList.Service.Call.outgoing","messageActionPhoneCall.missed":"ChatList.Service.Call.Missed","messageActionPhoneCall.cancelled":"ChatList.Service.Call.Cancelled","messageActionGroupCall.started":"Chat.Service.VoiceChatStarted.Channel","messageActionGroupCall.started_by":"Chat.Service.VoiceChatStarted","messageActionGroupCall.started_byYou":"Chat.Service.VoiceChatStartedYou","messageActionGroupCall.ended":"Chat.Service.VoiceChatFinished.Channel","messageActionGroupCall.ended_by":"Chat.Service.VoiceChatFinished","messageActionGroupCall.ended_byYou":"Chat.Service.VoiceChatFinishedYou",messageActionBotAllowed:"Chat.Service.BotPermissionAllowed"},Rc=le?"Message.Unsupported.Mobile":"Message.Unsupported.Desktop";var me;(t=>{t.strings=new Map,t.countriesList=[];let e,s;t.requestedServerLanguage=!1,t.isRTL=!1,[t.langCodeNormalized,t.setLangCodeNormalized]=te();function n(h){t.isRTL=h}t.setRTL=n;function r(h){t.lastRequestedLangCode=h,t.lastRequestedNormalizedLangCode=h.split("-")[0],(0,t.setLangCodeNormalized)(t.lastRequestedNormalizedLangCode.split("-")[0])}function i(){return s||(s=Promise.all([_t.get("langPack"),t.polyfillPromise]).then(([h])=>h?(t.lastRequestedLangCode||r(h.lang_code),v(h),h):u()).finally(()=>{s=void 0}))}t.getCacheLangPack=i;function o(){if(t.timeFormat==="h12")try{const h=k({hour:"numeric",minute:"numeric",hour12:!0}),f=new Date;f.setHours(0);const E=h.format(f);t.amPmCache.am=E.split(/\s/)[1],f.setHours(12);const F=h.format(f);t.amPmCache.pm=F.split(/\s/)[1]}catch(h){console.error("cannot get am/pm",h),t.amPmCache={am:"AM",pm:"PM"}}}function a(h,f=!!t.timeFormat&&t.timeFormat!==h){t.timeFormat=h,o(),f&&(T.clear(),Array.from(document.querySelectorAll(".i18n")).forEach(F=>{const C=t.weakMap.get(F);C instanceof U&&C.update()}))}t.setTimeFormat=a;function u(){const h=W.langPackCode;return r(h),Promise.all([z(()=>import("./lang-V2fH2xfQ.js"),[],import.meta.url),z(()=>import("./langSign-CN-ja8rh.js"),[],import.meta.url),z(()=>import("./countries-CzeCvYH8.js"),[],import.meta.url)]).then(([f,E,F])=>{const C=[];d(f.default,C),d(E.default,C);const Y={_:"langPackDifference",from_version:0,lang_code:h,strings:C,version:0,local:!0,countries:F.default};return g(Y)})}t.loadLocalLangPack=u;function c(h,f){f=!0,t.requestedServerLanguage=!0;const E=N.managers;return Promise.all([E.apiManager.invokeApiCacheable("langpack.getLangPack",{lang_code:h,lang_pack:f?"web":W.langPack}),!f&&E.apiManager.invokeApiCacheable("langpack.getLangPack",{lang_code:h,lang_pack:"android"}),z(()=>import("./lang-V2fH2xfQ.js"),[],import.meta.url),z(()=>import("./langSign-CN-ja8rh.js"),[],import.meta.url),E.apiManager.invokeApiCacheable("help.getCountriesList",{lang_code:h,hash:0}),t.polyfillPromise])}t.loadLangPack=c;function l(h,f){return N.managers.apiManager.invokeApi("langpack.getStrings",{lang_pack:W.langPack,lang_code:h,keys:f})}t.getStrings=l;function d(h,f=[]){for(const E in h){const F=h[E];typeof F=="string"?f.push({_:"langPackString",key:E,value:F}):f.push({_:"langPackStringPluralized",key:E,...F})}return f}t.formatLocalStrings=d;function m(h,f){return r(h),c(h,f).then(([E,F,C,Y,j,pe])=>{let _e=[];return[C,Y].forEach(Vt=>{d(Vt.default,_e)}),_e=_e.concat(...[E.strings,F.strings].filter(Boolean)),E.strings=_e,E.countries=j,g(E)})}t.getLangPack=m;function g(h){return h.appVersion=W.langPackVersion,_t.set({langPack:h}).then(()=>(v(h),h))}t.saveLangPack=g,t.polyfillPromise=function(){return typeof Intl<"u"&&typeof Intl.PluralRules<"u"?Promise.resolve():z(()=>import("./pluralPolyfill-B0qpVVRH.js"),[],import.meta.url).then(f=>{window.Intl=Object.assign(typeof Intl<"u"?Intl:{},f.default)})}();function v(h){const f=t.lastRequestedLangCode;if(h.lang_code!==f)return;try{e=new Intl.PluralRules(t.lastRequestedNormalizedLangCode)}catch(F){console.error("pluralRules error",F),e=new Intl.PluralRules(t.lastRequestedNormalizedLangCode.split("-",1)[0])}try{e=new Intl.PluralRules(h.lang_code)}catch(F){console.error("pluralRules error",F),e=new Intl.PluralRules(h.lang_code.split("-",1)[0])}t.strings.clear();for(const F of h.strings)t.strings.set(F.key,F);h.countries&&(t.countriesList.length=0,t.countriesList.push(...h.countries.countries),h.countries.countries.forEach(F=>{if(F.name){const C=F.default_name;t.strings.set(C,{_:"langPackString",key:C,value:F.name})}})),t.lastAppliedLangCode!==f&&(t.lastAppliedLangCode&&N.myId&&(N.managers.appReactionsManager.resetAvailableReactions(),N.managers.appUsersManager.indexMyself(),N.managers.dialogsStorage.indexMyDialog()),t.lastAppliedLangCode=f,T.clear(),o(),N.dispatchEvent("language_change",f)),Array.from(document.querySelectorAll(".i18n")).forEach(F=>{const C=t.weakMap.get(F);C&&C.update()})}t.applyLangPack=v;function S(h,f,E,F){const C=f[F===void 0?E.i++:F];Array.isArray(C)?h.push(...C):h.push(C)}function D(h,f,E){if(!E){E={i:0};const j=h.match(/(%|un)\d+/g);j?.length&&(E.i=Math.max(...j.map(pe=>+pe.replace(/\D/g,""))))}const F=[],C=/(\*\*|__)(.+?)\1|(\n)|(\[.+?\]\(.*?\))|un\d|%\d\$.|%\S/g;let Y=0;return h.replace(C,(j,pe,_e,Vt,We,Gt,xr)=>{if(Gt>Y&&F.push(xr.slice(Y,Gt)),pe){let ee;switch(pe){case"**":{ee=document.createElement("b");break}case"__":{ee=document.createElement("i");break}}ee.append(...D(_e,f,E)),F.push(ee)}else if(Vt)F.push(document.createElement("br"));else if(We){const ee=We.lastIndexOf("]"),Br=We.slice(1,ee),$t=We.slice(ee+2,We.length-1);let J;if($t&&Rn($t)){J=document.createElement("a");const Yt=Nn($t);J.href=Yt.url,Yt.onclick&&J.setAttribute("onclick",Yt.onclick+"(this)"),yi(J)}else J=f[E.i++],J instanceof DocumentFragment&&(J=J.firstChild),typeof J!="string"&&(J.textContent="");const Gs=D(Br,f,E);typeof J=="string"?F.push(...Gs):(J.append(...Gs),F.push(J))}else if(f){const ee=j.replace(/\D/g,"");S(F,f,E,!ee||Number.isNaN(+ee)?void 0:Math.min(f.length-1,+ee-1))}return Y=Gt+j.length,""}),Y!==h.length&&F.push(h.slice(Y)),F}t.superFormatter=D;function A(h,f=!1,E){const F=t.strings.get(h);let C;if(F)if(F._==="langPackStringPluralized"&&E?.length){let j=E[0];typeof j=="string"&&(j=+j.replace(/\D/g,""));const pe=e.select(j);C=F[pe+"_value"]||F.other_value}else F._==="langPackString"?C=F.value:C=h;else C=h;const Y=D(C,E);return f?Y.map(j=>j instanceof Node?j.textContent:j).join(""):Y}t.format=A,t.weakMap=new WeakMap;class w{constructor(f){this.element=f?.element||document.createElement("span"),this.element.classList.add("i18n"),this.property=f?.property,t.weakMap.set(this.element,this)}}class y extends w{constructor(f={}){super({...f,property:f.property??"innerHTML"}),f?.key&&this.update(f)}update(f){if(hs(this,f),this.property==="innerHTML")this.element.replaceChildren(...A(this.key,!1,this.args)),this.args?.length&&this.element.normalize();else{const E=this.element[this.property],F=A(this.key,!0,this.args);E===void 0?this.element.dataset[this.property]=F:this.element[this.property]=F}}compareAndUpdate(f){if(!(this.key===f.key&&On(this.args,f.args)))return this.update(f)}}t.IntlElement=y;const T=new Map;function k(h={}){const f=JSON.stringify(h);let E=T.get(f);return E||(E=new Intl.DateTimeFormat(t.lastRequestedNormalizedLangCode+"-u-hc-"+t.timeFormat,h),T.set(f,E)),E}t.getDateTimeFormat=k,t.amPmCache={am:"AM",pm:"PM"};class U extends w{constructor(f){super({...f,property:f.property??"textContent"}),Un(this.element),f?.date&&this.update(f)}update(f){hs(this,f);let E;if(this.options.hour&&this.options.minute&&Object.keys(this.options).length===2){const F=this.date.getHours();E=("0"+(t.timeFormat==="h12"?F%12||12:F)).slice(-2)+":"+("0"+this.date.getMinutes()).slice(-2),t.timeFormat==="h12"&&(E+=" "+(F<12?t.amPmCache.am:t.amPmCache.pm))}else{const F=k(this.options);E=Nt(F.format(this.date))}this.element[this.property]=E}}t.IntlDateElement=U;function b(h,f){return new y({key:h,args:f}).element}t.i18n=b;function O(h){return new y(h).element}t.i18n_=O;function R(h,f,E,F){return new y({element:h,key:f,args:E,property:F}).element}t._i18n=R})(me||(me={}));const G=me,et=me.i18n,xc=me.i18n_,Bc=me._i18n;function Hi(t,e){const s=t.slice(0,1);for(let n=1;n<t.length;++n){const r=t.length-1===n;s.push(typeof e=="function"?e(r):e),s.push(t[n])}return s}function Nc(t,e=!0,s){const n=Hi(t,r=>{const i=r&&e?"AutoDownloadSettings.LastDelimeter":"AutoDownloadSettings.Delimeter";return s?me.format(i,!0):et(i)});return s?n.join(""):n}_&&(_.I18n=me);function zi(t){return+t<0}function qi(t){return+t>=0}String.prototype.toUserId=function(){return(+this).toUserId()};String.prototype.toChatId=function(){return(+this).toChatId()};String.prototype.toPeerId=function(t){return(+this).toPeerId(t)};String.prototype.isPeerId=function(){return/^[\d-]/.test(this.toString())};Number.prototype.toUserId=function(){return+this};Number.prototype.toChatId=function(){return Math.abs(this)};Number.prototype.toPeerId=function(t){return t===void 0?+this:t?-Math.abs(this):+this};Number.prototype.isPeerId=function(){return!0};[["isUser",qi],["isAnyChat",zi]].forEach(t=>{const e=Array.isArray(t)?t[0]:t,s=Array.isArray(t)?t[1]:t;String.prototype[e]=function(){return s.call(null,this.toString())},Number.prototype[e]=function(){return s.call(null,+this)}});function Ki(...t){const e=t.reduce((r,i)=>r+(i.byteLength||i.length),0),s=new Uint8Array(e);let n=0;return t.forEach(r=>{s.set(r instanceof ArrayBuffer?new Uint8Array(r):r,n),n+=r.byteLength||r.length}),s}Uint8Array.prototype.concat=function(...t){return Ki(this,...t)};Uint8Array.prototype.toJSON=function(){return[...this]};Promise.prototype.finally=Promise.prototype.finally||function(t){const e=s=>Promise.resolve(t()).then(s);return this.then(s=>e(()=>s),s=>e(()=>Promise.reject(s)))};class Ji{constructor(){this.convertPromises={}}init(){this.worker=new Worker(new URL(""+new URL("webp.worker-CJXTr_cK.js",import.meta.url).href,import.meta.url),{type:"module"}),this.worker.addEventListener("message",e=>{const n=e.data.payload,r=this.convertPromises[n.fileName];r&&(n.bytes?r.resolve(n.bytes):r.reject(),delete this.convertPromises[n.fileName])})}postMessage(e){this.init&&(this.init(),this.init=null),this.worker.postMessage(e)}convert(e,s){if(this.convertPromises.hasOwnProperty(e))return this.convertPromises[e];const n=ue();return this.postMessage({type:"convertWebp",payload:{fileName:e,bytes:s}}),this.convertPromises[e]=n}}const Jn=new Ji;_.webpWorkerController=Jn;class Xi{constructor(e="default"){this.prefix="",this.cache={},this.useStorage=!0,this.prefixed=!1,e==="default"?(this.initializePrefix(),K.test&&(this.prefix="t_")):(this.prefixed=!0,K.test?this.prefix=`${e}_t_`:this.prefix=`${e}_`)}async initializePrefix(){this.prefixed||(await Oe.waitForInstances(),this.prefix===""?this.prefix=`${Oe.getActiveInstanceID()}_`:this.prefix=`${Oe.getActiveInstanceID()}_${this.prefix}`,this.prefixed=!0)}get(e,s=!0){if(this.cache.hasOwnProperty(e)&&s)return this.cache[e];if(this.useStorage){let n;try{n=localStorage.getItem(this.prefix+e)}catch{throw this.useStorage=!1,ve("STORAGE_OFFLINE")}if(n!==null)try{n=JSON.parse(n)}catch{}else n=void 0;return n}else throw ve("STORAGE_OFFLINE")}set(e,s=!1){let n;for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];if(this.cache[r]=i,!s)try{if(!this.useStorage)throw ve("STORAGE_OFFLINE");const o=JSON.stringify(i);localStorage.setItem(this.prefix+r,o)}catch(o){this.useStorage=!1,n=o}}if(n)throw n}delete(e,s=!1){e=""+e,s||delete this.cache[e];try{localStorage.removeItem(this.prefix+e)}catch{}}clear(){const e=["dc","server_time_offset","xt_instance","user_auth","state_id","k_build"];for(let s=1;s<=5;++s)e.push(`dc${s}_server_salt`),e.push(`dc${s}_auth_key`),e.push(`dc${s}_hash`);for(const s of e)this.delete(s,!0)}toggleStorage(e,s){if(this.useStorage=e,!!s)if(!e)this.clear();else return this.set(this.cache)}}const xt=class xt{constructor(e="default"){xt.STORAGES.push(this),we||(this.storage=new Xi(e))}async proxy(e,...s){return we?ct.getInstance().invoke("localStorageProxy",{type:e,args:s}):(s=Array.prototype.slice.call(s),this.storage[e].apply(this.storage,s))}get(e,s){return this.proxy("get",e,s)}set(e,s){return this.proxy("set",e,s)}delete(e,s){return this.proxy("delete",e,s)}clear(){return this.proxy("clear")}toggleStorage(e,s){return this.proxy("toggleStorage",e,s)}async waitUntilPrefixInitialized(){return new Promise(async e=>{if(this.storage||await new Promise(n=>{const r=setInterval(()=>{this.storage&&(clearInterval(r),n(!0))},100)}),this.storage.prefixed)return e(!0);const s=setInterval(()=>{this.storage.prefixed&&(clearInterval(s),e(!0))},100)})}};xt.STORAGES=[];let It=xt;const tt=new It;_.appStorage=tt;const B={default:tt};function Zi(t){return ot&&t instanceof TouchEvent&&t.touches[0].clientX<30}class Qi{constructor(){if(this.onPopState=e=>{const s=window.location.hash,n=e.state;if(this.debug&&this.log("popstate",e,this.isPossibleSwipe,s),s!==this.currentHash)if(this.debug&&this.log.warn(`hash changed, new=${s}, current=${this.currentHash}, overridden=${this.overriddenHash}`),n===this.id&&this.overriddenHash&&this.overriddenHash!==s)this.overrideHash(this.overriddenHash);else if(n&&!this.overriddenHash&&s)this.overrideHash();else{this.currentHash=s,this.onHashChange&&this.onHashChange();return}if(n!==this.id&&(this.pushState(),!this.navigations.length))return;const r=this.navigations.pop();if(!r){this.pushState();return}this.manual=!this.isPossibleSwipe,this.handleItem(r,this.navigations.length)},this.onKeyDown=e=>{const s=this.navigations[this.navigations.length-1];s&&e.key==="Escape"&&(!s.onEscape||s.onEscape())&&(as(e),this.back(s.type))},this.onTouchStart=e=>{e.touches.length>1||(this.debug&&this.log("touchstart"),Zi(e)&&(this.isPossibleSwipe=!0,window.addEventListener("touchend",()=>{setTimeout(()=>{this.isPossibleSwipe=!1},100)},{passive:!0,once:!0})))},this.navigations=[],this.id=Date.now(),this.manual=!1,this.log=ae("NC"),this.debug=!0,this.currentHash=window.location.hash,this.overriddenHash="",this.isPossibleSwipe=!1,window.addEventListener("popstate",this.onPopState),window.addEventListener("keydown",this.onKeyDown,{capture:!0,passive:!1}),ot){const e={passive:!0};window.addEventListener("touchstart",this.onTouchStart,e)}history.scrollRestoration="manual",this.pushState()}overrideHash(e=""){e&&e[0]!=="#"?e="#"+e:e==="#"&&(e=""),this.currentHash!==e&&(this.overriddenHash=this.currentHash=e,this.replaceState(),this.pushState())}handleItem(e,s=this.navigations.indexOf(e)){const n=e.onPop(this.manual?void 0:!1);this.debug&&this.log("popstate, navigation:",e,this.navigations),n===!1?this.spliceItems(Math.min(this.navigations.length,s),0,e):e.noBlurOnPop||vn(),this.manual=!1}findItemByType(e){for(let s=this.navigations.length-1;s>=0;--s){const n=this.navigations[s];if(n.type===e)return{item:n,index:s}}}back(e){if(e){const s=this.findItemByType(e);if(s){this.backByItem(s.item,s.index);return}}history.back()}backByItem(e,s=this.navigations.indexOf(e)){s!==-1&&(this.manual=!0,this.navigations.splice(s,1),this.handleItem(e,s))}onItemAdded(e){this.debug&&this.log("onItemAdded",e,this.navigations),e.noHistory||this.pushState()}pushItem(e){this.navigations.push(e),this.onItemAdded(e)}unshiftItem(e){this.navigations.unshift(e),this.onItemAdded(e)}spliceItems(e,s,...n){this.navigations.splice(e,s,...n),n.forEach(r=>{this.onItemAdded(r)})}pushState(){this.debug&&this.log("push"),this.manual=!1,history.pushState(this.id,"")}replaceState(){this.debug&&this.log.warn("replace");const e=location.origin+location.pathname+location.search+this.overriddenHash;history.replaceState(this.id,"",e)}removeItem(e){e&&Dt(this.navigations,e)}removeByType(e,s=!1){for(let n=this.navigations.length-1;n>=0&&!(this.navigations[n].type===e&&(this.navigations.splice(n,1),s));--n);}}const ps=new Qi;_.appNavigationController=ps;class eo{reload(){try{ps.spliceItems(0,1/0),ps.overrideHash(),location.reload()}catch{}}close(){try{window.close()}catch{}}focus(){window.focus()}}const Xn=new eo;function H(t){if(t===null||typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());if(Array.isArray(t))return t.map(r=>H(r));if(ArrayBuffer.isView(t))return t.slice();const e=new t.constructor;for(var s in t)t.hasOwnProperty(s)&&(e[s]=H(t[s]));return e}const Mt=typeof SharedWorker<"u"&&!K.noSharedWorker,to=Fe?"touchstart":"mousemove";class so extends be{constructor(){super(),this._isIdle=!0,this.focusPromise=Promise.resolve(),this.focusResolve=()=>{},window.addEventListener("blur",()=>{this.isIdle=!0,window.addEventListener("focus",()=>{this.isIdle=!1},{once:!0})}),window.addEventListener(to,()=>{this.isIdle=!1},{once:!0,passive:!0}),this.addEventListener("change",e=>{e?this.focusPromise=new Promise(s=>{this.focusResolve=s}):this.focusResolve()})}getFocusPromise(){return this.focusPromise}get isIdle(){return this._isIdle}set isIdle(e){this._isIdle!==e&&(this._isIdle=e,this.dispatchEvent("change",e))}}const Lt=new so,no=5e3,ro=3e4,io=2e4,oo=Mt;class ao extends be{constructor(e="default"){super(!1),this.log=ae("INSTANCE"),this.clearInstance=()=>{this.masterInstance&&!this.deactivated&&(this.log.warn("clear master instance"),B[this.dbInstance].delete("xt_instance"))},this.checkInstance=async(s=Lt.isIdle)=>{if(this.deactivated)return;const n=Date.now(),r={id:this.instanceId,idle:s,time:n};await B[this.dbInstance].waitUntilPrefixInitialized();const[i,o=W.build]=await Promise.all([B[this.dbInstance].get("xt_instance",!1),B[this.dbInstance].get("k_build",!1)]);if(o>W.build){this.masterInstance=!1,I[this.dbInstance].managers.networkerFactory.stopAll(),this.deactivateInstance("version"),Et[this.dbInstance].toggleStorages(!1,!1);return}else if(oo){B[this.dbInstance].set({xt_instance:r});return}!s||!i||i.id===this.instanceId||i.time<n-io?(B[this.dbInstance].set({xt_instance:r}),this.masterInstance||(this.masterInstance=!0,I[this.dbInstance].managers.networkerFactory.startAll(),this.log.warn("now master instance",r)),this.clearDeactivateTimeout()):this.masterInstance&&(this.masterInstance=!1,I[this.dbInstance].managers.networkerFactory.stopAll(),this.log.warn("now idle instance",r),this.deactivateTimeout||(this.deactivateTimeout=window.setTimeout(()=>this.deactivateInstance("tabs"),ro)))},this.log=ae("INSTANCE"),this.instanceId=Pn,this.dbInstance=e}get deactivatedReason(){return this.deactivated}start(){if(this.reset(),!this.started){this.started=!0,Lt.addEventListener("change",this.checkInstance),setInterval(this.checkInstance,no),this.checkInstance();try{document.documentElement.addEventListener("beforeunload",this.clearInstance)}catch{}}}reset(){this.masterInstance=!1,this.clearDeactivateTimeout(),this.deactivated=void 0}activateInstance(){this.deactivated&&(this.reset(),this.checkInstance(!1),this.dispatchEvent("activated"))}deactivateInstance(e){this.masterInstance||this.deactivated||(this.log.warn("deactivate",e),this.clearDeactivateTimeout(),this.deactivated=e,this.dispatchEvent("deactivated",e))}clearDeactivateTimeout(){this.deactivateTimeout&&(clearTimeout(this.deactivateTimeout),this.deactivateTimeout=0)}}const st=new ao;_&&(_.singleInstance=st);const Uc={default:st};function co(t,e){if(t!==void 0)return t=+t.toFixed(0),e?t<St?t:t%St:t}function uo(t){return co(t,!0)}const lo=1e4;class Zn extends be{constructor(){super(!1),this.isAvailable=!0,this.isPushEnabled=!1,this.localNotificationsAvailable=!0,this.started=!1,this.settings={},this.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,this.userVisibleOnly=!this.isFirefox,this.log=ae("PUSH-API"),this.subscribe=()=>{this.isAvailable&&navigator.serviceWorker.ready.then(e=>{e.pushManager.subscribe({userVisibleOnly:this.userVisibleOnly}).then(s=>{this.isPushEnabled=!0,this.pushSubscriptionNotify("subscribe",s)}).catch(s=>{Notification.permission==="denied"?this.log("Permission for Notifications was denied"):(this.log("Unable to subscribe to push.",s),this.userVisibleOnly||(this.userVisibleOnly=!0,setTimeout(this.subscribe,0)))})})},this.isAliveNotify=()=>{if(!this.isAvailable||st.deactivatedReason)return;this.settings.baseUrl=(location.href||"").replace(/#.*$/,"");const e={},s={push_action_mute1d:le?"PushNotification.Action.Mute1d.Mobile":"PushNotification.Action.Mute1d",push_action_settings:le?"PushNotification.Action.Settings.Mobile":"PushNotification.Action.Settings",push_message_nopreview:"PushNotification.Message.NoPreview"};for(const n in s)e[n]=G.format(s[n],!0);this.serviceMessagePort.invokeVoid("pushPing",{localNotifications:this.localNotificationsAvailable,lang:e,settings:this.settings}),this.isAliveTO=setTimeout(this.isAliveNotify,lo)},(!("PushManager"in window)||!("Notification"in window)||!("serviceWorker"in navigator))&&(this.log.warn("Push messaging is not supported."),this.isAvailable=!1,this.localNotificationsAvailable=!1),this.isAvailable&&Notification.permission==="denied"&&this.log.warn("The user has blocked notifications.")}start(){this.started||(this.started=!0,this.getSubscription(),this.setUpServiceWorkerChannel())}setLocalNotificationsDisabled(){this.localNotificationsAvailable=!1}getSubscription(){this.isAvailable&&navigator.serviceWorker.ready.then(e=>{e.pushManager.getSubscription().then(s=>{this.isPushEnabled=!!s,this.pushSubscriptionNotify("init",s)}).catch(s=>{this.log.error("Error during getSubscription()",s)})})}unsubscribe(){this.isAvailable&&navigator.serviceWorker.ready.then(e=>{e.pushManager.getSubscription().then(s=>{this.isPushEnabled=!1,s&&(this.pushSubscriptionNotify("unsubscribe",s),setTimeout(()=>{s.unsubscribe().then(n=>{this.isPushEnabled=!1}).catch(n=>{this.log.error("Unsubscription error: ",n)})},3e3))}).catch(s=>{this.log.error("Error thrown while unsubscribing from push messaging.",s)})})}forceUnsubscribe(){this.isAvailable&&navigator.serviceWorker.ready.then(e=>{e.pushManager.getSubscription().then(s=>{this.log.warn("force unsubscribe",s),s&&s.unsubscribe().then(n=>{this.log.warn("force unsubscribe successful",n),this.isPushEnabled=!1}).catch(n=>{this.log.error("Unsubscription error: ",n)})}).catch(s=>{this.log.error("Error thrown while unsubscribing from push messaging.",s)})})}setSettings(e){this.settings=H(e),clearTimeout(this.isAliveTO),this.isAliveNotify()}hidePushNotifications(){this.isAvailable&&this.serviceMessagePort.invokeVoid("notificationsClear",void 0)}setUpServiceWorkerChannel(){this.isAvailable&&(this.serviceMessagePort.addEventListener("pushClick",e=>{if(st.deactivatedReason){Xn.reload();return}this.dispatchEvent("push_notification_click",e)}),navigator.serviceWorker.ready.then(this.isAliveNotify))}pushSubscriptionNotify(e,s){if(s){const n=s.toJSON();if(!n||!n.endpoint||!n.keys||!n.keys.p256dh||!n.keys.auth){this.log.warn("Invalid push subscription",n),this.unsubscribe(),this.isAvailable=!1,this.pushSubscriptionNotify(e);return}this.log.warn("Push",e,n),this.dispatchEvent("push_"+e,{tokenType:10,tokenValue:JSON.stringify(n)})}else this.log.warn("Push",e,!1),this.dispatchEvent("push_"+e,!1)}ignorePushByMid(e,s){this.isAvailable&&this.serviceMessagePort.invokeVoid("shownNotification",e+"_"+uo(s))}}const Ot=new Zn;_&&(_.webPushApiManager=Ot);const ho=Object.freeze(Object.defineProperty({__proto__:null,WebPushApiManager:Zn,default:Ot},Symbol.toStringTag,{value:"Module"}));function fo(t){const e=document.createElement("script"),s=new Promise(n=>{e.onload=e.onerror=()=>{n(e)}});return e.src=t,document.body.appendChild(e),s}function go(t){const e=Date.now();return t?e/1e3|0:e}class Qn{constructor(){this.disabled=K.test||!W.domains.includes(location.hostname)}setAuthorized(e){if(!this.disabled)return tt.get("tgme_sync").then(s=>{const n=go(!0);if(e&&s?.canRedirect===e&&s.ts+86400>n)return;tt.set({tgme_sync:{canRedirect:e,ts:n}});const r=`_websync_?authed=${e?"1":"0"}&version=${encodeURIComponent(W.version+" "+W.suffix)}`,o=["//telegram.me/"+r,"//t.me/"+r].map(a=>fo(a).then(u=>{u.remove()}));return Promise.all(o)})}}const Ms=new Qn;_&&(_.telegramMeWebManager=Ms);const mo=Object.freeze(Object.defineProperty({__proto__:null,TelegramMeWebManager:Qn,default:Ms},Symbol.toStringTag,{value:"Module"})),Ls=typeof RTCPeerConnection<"u"&&!Ue,Do=Ls;let pt;if(!ne)pt=!0;else try{pt=+navigator.userAgent.match(/Version\/(.+?) /)[1]>=14}catch{pt=!1}const po=pt,Eo="filter"in(document.createElement("canvas").getContext("2d")||{}),Fo=!!navigator?.geolocation?.getCurrentPosition&&!1,vo=Ls,er=document.createElement("canvas").toDataURL("image/webp").startsWith("data:image/webp"),nt=new Set(["image/jpeg","image/png","image/bmp"]);er&&nt.add("image/webp");const Ao=[["image/jxl","data:image/jxl;base64,/woIAAAMABKIAgC4AF3lEgAAFSqjjBu8nOv58kOHxbSN6wxttW1hSaLIODZJJ3BIEkkaoCUzGM6qJAE="],["image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="]],So=Ao.map(([t,e])=>{const s=new Image,n=new Promise(r=>{s.onload=s.onerror=()=>{const i=s.height===2;r(i?t:void 0)}});return s.src=e,n}),tr=Promise.all(So).then(t=>t.filter(Boolean)),Os=document.createElement("video"),wo=!!Os.canPlayType("video/webm")&&!ne&&!Ne,sr=!!Os.canPlayType("video/quicktime")||ne||Ne,yo=!!Os.canPlayType('video/mp4; codecs="hev1"'),bo=Object.freeze(Object.defineProperty({__proto__:null,IS_H265_SUPPORTED:yo,IS_MOV_SUPPORTED:sr,IS_WEBM_SUPPORTED:wo},Symbol.toStringTag,{value:"Module"})),Rs=new Set(["image/gif","video/mp4","video/webm"]);sr&&Rs.add("video/quicktime");const Co=[...nt].concat([...Rs]),nr=new Set(Co),_o=!Ue&&!1,Po="getDisplayMedia"in(navigator?.mediaDevices||{}),ko=!!navigator?.vibrate,sn=document.createElement("audio"),rr=!!(sn.canPlayType&&sn.canPlayType("audio/ogg;").replace(/no/,""));let ir=!1;try{const t=document.createElement("canvas").getContext("webgl"),e=t.getExtension("WEBGL_debug_renderer_info"),s=e&&t.getParameter(e.UNMASKED_RENDERER_WEBGL)||"";(s.match(/Apple/)&&!s.match(/Apple GPU/)||t.getSupportedExtensions().indexOf("WEBGL_compressed_texture_s3tc_srgb")===-1)&&(ir=!0)}catch{}const To=ir,Io="serviceWorker"in navigator,nn={CAN_USE_TRANSFERABLES:po,IS_APPLE_MX:To,IS_CALL_SUPPORTED:Do,IS_CANVAS_FILTER_SUPPORTED:Eo,IS_EMOJI_SUPPORTED:ls,IS_GEOLOCATION_SUPPORTED:Fo,IS_GROUP_CALL_SUPPORTED:vo,IS_PARALLAX_SUPPORTED:_o,IS_SCREEN_SHARING_SUPPORTED:Po,IS_TOUCH_SUPPORTED:Fe,...bo,IS_VIBRATE_SUPPORTED:ko,IS_OPUS_SUPPORTED:rr,IS_SHARED_WORKER_SUPPORTED:Mt,IS_WEBP_SUPPORTED:er,IS_WEBRTC_SUPPORTED:Ls,IS_LIVE_STREAM_SUPPORTED:Io,IMAGE_MIME_TYPES_SUPPORTED:nt,MEDIA_MIME_TYPES_SUPPORTED:nr,VIDEO_MIME_TYPES_SUPPORTED:Rs,...Wr};function Mo(){const t=document.createElement("input");t.type="time",t.value="15:00",t.style.visibility="hidden",document.body.append(t);const e=t.offsetWidth;return t.remove(),e>110?"h12":"h23"}const Lo=W.version,Oo=W.build,rn={_:"theme",access_hash:"",id:"",settings:[{_:"themeSettings",pFlags:{},base_theme:{_:"baseThemeClassic"},accent_color:3379436,message_colors:[6072403],wallpaper:{_:"wallPaper",pFlags:{default:!0,pattern:!0},access_hash:"",document:void 0,id:"",slug:"pattern",settings:{_:"wallPaperSettings",pFlags:{},intensity:50,background_color:14409147,second_background_color:7054727,third_background_color:14014605,fourth_background_color:8960132}}},{_:"themeSettings",pFlags:{},base_theme:{_:"baseThemeNight"},accent_color:8877281,message_colors:[8877281],wallpaper:{_:"wallPaper",pFlags:{default:!0,pattern:!0,dark:!0},access_hash:"",document:void 0,id:"",slug:"pattern",settings:{_:"wallPaperSettings",pFlags:{},intensity:-50,background_color:16696470,second_background_color:14511289,third_background_color:9842623,fourth_background_color:5200853}}}],slug:"",title:"",emoticon:"ð ",pFlags:{default:!0}},on=(t,e,s)=>({...rn,name:t,settings:{...rn.settings.find(n=>n.base_theme._===e),highlightingColor:s}}),q={allDialogsLoaded:{},pinnedOrders:{},contactsListCachedTime:0,updates:{},filtersArr:[],maxSeenMsgId:0,stateCreatedTime:Date.now(),recentEmoji:[],recentCustomEmoji:[],topPeersCache:{},recentSearch:[],version:Lo,build:Oo,authState:{_:le?"authStateSignIn":"authStateSignQr"},hiddenPinnedMessages:{},settings:{messagesTextSize:16,distanceUnit:"kilometers",sendShortcut:"enter",autoDownload:{photo:{contacts:!0,private:!0,groups:!0,channels:!0},video:{contacts:!0,private:!0,groups:!0,channels:!0},file:{contacts:!0,private:!0,groups:!0,channels:!0}},autoDownloadNew:{_:"autoDownloadSettings",file_size_max:3145728,pFlags:{video_preload_large:!0,audio_preload_next:!0},photo_size_max:1048576,video_size_max:15728640,video_upload_maxbitrate:100,small_queue_active_operations_max:0,large_queue_active_operations_max:0},stickers:{suggest:"all",dynamicPackOrder:!0,loop:!0},emoji:{suggest:!0,big:!0},themes:[on("day","baseThemeClassic","hsla(86.4, 43.846153%, 45.117647%, .4)"),on("night","baseThemeNight","hsla(299.142857, 44.166666%, 37.470588%, .4)")],theme:"system",notifications:{sound:!1},timeFormat:Mo(),liteMode:{all:!1,animations:!1,chat:!1,chat_background:!1,chat_spoilers:!1,effects:!1,effects_premiumstickers:!1,effects_reactions:!1,effects_emoji:!1,emoji:!1,emoji_messages:!1,emoji_panel:!1,gif:!1,stickers:!1,stickers_chat:!1,stickers_panel:!1,video:!1},savedAsForum:!1},playbackParams:{volume:1,muted:!1,playbackRate:1,playbackRates:{voice:1,video:1,audio:1},loop:!1,round:!1},keepSigned:!0,chatContextMenuHintWasShown:!1,hideChatJoinRequests:{},stateId:yt(32),notifySettings:{},confirmedWebViews:[],seenTooltips:{storySound:!1},hiddenSimilarChannels:[],appConfig:{},accountThemes:{},translations:{peers:{},enabledPeers:{},enabled:!0,showInMenu:!0,doNotTranslate:[]}};function dt(t,e){t=t.split(" ",1)[0],e=e.split(" ",1)[0];const s=t.split("."),n=e.split(".");for(let r=0;r<s.length;++r){const i=+s[r],o=+n[r];if(i>o)return 1;if(i<o)return-1}return 0}function Ro(t){return typeof t=="object"&&t!==null}function or(t,e,s,n,r,i){for(const o in t){const a=i?`${i}.${o}`:o;r?.has(a)||(typeof e[o]!=typeof t[o]?(e[o]=H(t[o]),s?.(n||o)):Ro(t[o])&&or(t[o],e[o],s,n||o,r,a))}}function xo(t,e,s){const n=performance.now();return(s||console).warn(wt(),"start",e),t.then(()=>{(s||console).warn(wt(),"end",e,performance.now()-n)}),t}function Bo(t){return(...e)=>xo(...e,t)}const No=24*60*60*1e3,ft=q.version,Ge=q.build,gt=Object.keys(q),Uo=["contactsListCachedTime","stateCreatedTime","maxSeenMsgId","filtersArr"];async function Wo(t="default"){const e=ae("STATE-LOADER",ks.Error);t in B||(B[t]=new It(t)),await B[t].waitUntilPrefixInitialized();const s=performance.now(),n=Bo(e);t in Ve||(Ve[t]=new Ln(t));const r=gt.map(b=>n(Ve[t].get(b),"state "+b)).concat(n(B[t].get("user_auth"),"auth"),n(B[t].get("state_id"),"auth"),n(B[t].get("k_build"),"auth"),n(B[t].get("auth_key_fingerprint"),"auth"),n(B[t].get(`dc${W.baseDcId}_auth_key`),"auth")).concat(n(Ve[t].get("user_auth"),"old auth")),i=await Promise.all(r);e.warn("promises",performance.now()-s);const o=[],a=(b,O)=>{c[b]=O,o.push(b)},u=b=>{o.length=0,c=b,o.push(...Object.keys(c))};let c={};for(let b=0,O=gt.length;b<O;++b){const R=gt[b],h=i[b];h!==void 0?c[R]=h:a(R,H(q[R]))}i.splice(0,gt.length);let l=i.shift();const d=i.shift(),m=i.shift(),g=i.shift(),v=i.shift(),S=i.shift();if(!l&&S){l=S;const b=["dc","server_time_offset","xt_instance"];for(let h=1;h<=5;++h)b.push(`dc${h}_server_salt`),b.push(`dc${h}_auth_key`);const O=await Promise.all(b.map(h=>Ve[t].get(h)));b.push("user_auth"),O.push(typeof l=="number"||typeof l=="string"?{dcID:O[0]||W.baseDcId,date:Date.now()/1e3|0,id:l.toPeerId(!1)}:l);const R={};b.forEach((h,f)=>{R[h]=O[f]}),await B[t].set(R)}l&&(c.authState={_:"authStateSignedIn"},I[t].dispatchEvent("user_auth",typeof l=="number"||typeof l=="string"?{dcID:0,date:Date.now()/1e3|0,id:l.toPeerId(!1)}:l));const D=new Set,A=b=>{b.push("authState","stateId");const O=new Map(b.map(h=>[h,c[h]]));c=H(q),O.forEach((h,f)=>{c[f]=h});const R=["chats","dialogs","users"];for(const h of R)D.add(h);u(c)};if(c.stateId!==d&&(d!==void 0&&A([]),await B[t].set({state_id:c.stateId})),v){const b=v.slice(0,8);g?g!==b&&A([]):A(["settings"]),g!==b&&await B[t].set({auth_key_fingerprint:b})}const w=Date.now();c.stateCreatedTime+No<w&&(Se&&e("will refresh state",c.stateCreatedTime,w),(O=>{O.forEach(R=>{a(R,H(q[R]))})})(Uo));const y=c.settings.autoDownload;if(y?.private!==void 0){const b=["contacts","private","groups","channels"];["photo","video","file"].forEach(R=>{const h=y[R]={};b.forEach(f=>{h[f]=y[f]})}),b.forEach(R=>{delete y[R]}),a("settings",c.settings)}or(q,c,b=>{a(b,c[b])},void 0,new Set(["settings.themes"]));let k,U;if(c.version!==ft||c.build!==Ge){if(c.build<322&&(a("allDialogsLoaded",H(q.allDialogsLoaded)),a("pinnedOrders",H(q.pinnedOrders)),a("filtersArr",H(q.filtersArr)),D.add("dialogs")),dt(c.version,"1.7.1")===-1){let b=!1;if(dt(c.version,"1.3.0")===-1)b=!0,c.settings.theme=H(q.settings.theme),c.settings.themes=H(q.settings.themes);else if(dt(c.version,"1.7.1")===-1){b=!0;const O=c.settings.themes;c.settings.themes=H(q.settings.themes);try{O.forEach(R=>{const h=R.background;if(!h)return;const f=c.settings.themes.find(C=>C.name===R.name);f.settings.highlightingColor=h.highlightingColor;const E=C=>C&&parseInt(C.slice(1),16),F=(h.color||"").split(",").map(E);if(h.color&&!h.slug)f.settings.wallpaper={_:"wallPaperNoFile",id:0,pFlags:{},settings:{_:"wallPaperSettings",pFlags:{}}};else{const C={_:"wallPaper",id:0,access_hash:0,slug:h.slug,document:{},pFlags:{},settings:{_:"wallPaperSettings",pFlags:{}}},Y=C.settings;f.settings.wallpaper=C,h.slug&&!h.color?Y.pFlags.blur=h.blur||void 0:h.intensity&&(Y.intensity=h.intensity,C.pFlags.pattern=!0,C.pFlags.dark=h.intensity<0||void 0)}if(F.length){const C=f.settings.wallpaper.settings;C.background_color=F[0],C.second_background_color=F[1],C.third_background_color=F[2],C.fourth_background_color=F[3]}})}catch(R){console.error("migrating themes error",R)}}b&&a("settings",c.settings)}if(c.build<309&&(c.settings.liteMode.animations=!c.settings.animationsEnabled,c.settings.liteMode.video=!c.settings.autoPlay.videos,c.settings.liteMode.gif=!c.settings.autoPlay.gifs),c.build<312&&typeof c.settings.stickers.suggest=="boolean"&&(c.settings.stickers.suggest=c.settings.stickers.suggest?"all":"none"),c.build<=432){let b=!1;try{for(const O of c.settings.themes)O.settings.highlightingColor||(O.settings.highlightingColor=O.settings.highlightningColor,delete O.settings.highlightningColor,b=!0)}catch{}b&&a("settings",c.settings)}c.appConfig=H(q.appConfig),dt(c.version,ft)!==0&&(k=ft,U=c.version),a("version",ft),a("build",Ge)}return m!==Ge&&(!m||m<Ge)&&B[t].set({k_build:Ge}),I[t].settings=c.settings,Se&&e("state res",c,H(c)),e.warn("total",performance.now()-s),{state:c,resetStorages:D,newVersion:k,oldVersion:U,pushedKeys:o}}const ts={};function jo(t="default"){return t in ts||(ts[t]=Wo(t)),ts[t]}class Vo{constructor(){this.sampleRate=48e3,this.tasks=[],this.keepAlive=!1,this.log=ae("OPUS",ks.Error)}isPlaySupported(){return rr}loadWavWorker(){this.wavWorker||(this.wavWorker=new Worker("waveWorker.min.js"),this.wavWorker.addEventListener("message",e=>{const s=e.data;if(this.log("[WAV] got message:",s),s&&s.page){const n=s.page;this.onTaskEnd(this.tasks.shift(),n)}}))}loadWorker(){this.worker||(this.worker=new Worker("decoderWorker.min.js"),this.worker.addEventListener("message",e=>{const s=e.data;this.log("[DECODER] got message",s),s.type==="done"?(this.wavWorker.postMessage({command:"done"}),s.waveform&&(this.tasks[0].waveform=s.waveform)):this.wavWorker.postMessage({command:"encode",buffers:e.data},ne?void 0:s.map(n=>n.buffer))}))}setKeepAlive(e){this.keepAlive=e,this.keepAlive?(this.loadWorker(),this.loadWavWorker()):this.tasks.length||this.terminateWorkers()}onTaskEnd(e,s){s?(clearTimeout(e.timeout),e.callback.resolve({bytes:s,waveform:e.waveform})):e.callback.reject("timeout"),this.tasks.length&&this.executeNewTask(this.tasks[0]),this.terminateWorkers()}terminateWorkers(e=!1){(this.keepAlive||this.tasks.length)&&!e||(this.worker&&(this.worker.terminate(),this.worker=null),this.wavWorker&&(this.wavWorker.terminate(),this.wavWorker=null))}executeNewTask(e){this.worker.postMessage({command:"init",decoderSampleRate:this.sampleRate,outputBufferSampleRate:this.sampleRate}),this.wavWorker.postMessage({command:"init",wavBitDepth:16,wavSampleRate:this.sampleRate}),this.log("[DECODER] send decode"),this.worker.postMessage({command:"decode",pages:e.pages,waveform:e.withWaveform},ne?void 0:[e.pages.buffer]),e.timeout=window.setTimeout(()=>{this.log.error("decode timeout"),this.terminateWorkers(!0),this.tasks.length&&(this.loadWorker(),this.loadWavWorker()),this.onTaskEnd(this.tasks.shift())},1e4)}pushDecodeTask(e,s){return new Promise((n,r)=>{const i={pages:e,withWaveform:s,callback:{resolve:n,reject:r},timeout:0};this.loadWorker(),this.loadWavWorker(),this.tasks.push(i)===1&&this.executeNewTask(i)})}async decode(e,s=!1){return this.pushDecodeTask(e,s).then(async n=>{const r=new Blob([n.bytes],{type:"audio/wav"});return{url:await Us.invoke("createObjectURL",r),waveform:n.waveform}})}}const ar=new Vo;_.opusDecodeController=ar;class cr extends Ts{constructor(){super("CRYPTO"),this.lastIndex=-1}invokeCryptoNew({method:e,args:s,transfer:n}){const r={method:e,args:s},i=this.listeners.invoke;if(i?.size){let a=i.values().next().value.callback(r);return!we&&!(a instanceof Promise)&&(a=Promise.resolve(a)),a}const o=e==="aes-encrypt"||e==="aes-decrypt"?this.lastIndex=(this.lastIndex+1)%this.sendPorts.length:0;return this.invoke("invoke",r,void 0,this.sendPorts[o],n)}invokeCrypto(e,...s){return this.invokeCryptoNew({method:e,args:s})}}const ur=new cr;_&&(_.cryptoMessagePort=ur);const $e={default:ur};function Go(t){return["image/jpeg","image/png","image/gif","image/svg+xml","image/webp","image/bmp","image/avif","image/jxl","video/mp4","video/webm","video/quicktime","audio/ogg","audio/mpeg","audio/mp4","audio/wav","application/json","application/pdf"].indexOf(t)===-1?"application/octet-stream":t}function lr(t,e=""){Array.isArray(t)||(t=[t]);const s=Go(e);return new Blob(t,{type:s})}class $o{constructor(e,s,n){this.mimeType=e,this.size=s,this.saveFileCallback=n,this.bytes=new Uint8Array(s)}async write(e,s){const n=s+e.byteLength;if(n>this.bytes.byteLength){const r=new Uint8Array(n);r.set(this.bytes,0),this.bytes=r}this.bytes.set(e,s)}truncate(){this.bytes=new Uint8Array}trim(e){this.bytes=this.bytes.slice(0,e)}finalize(e=!0){const s=lr(this.bytes,this.mimeType);return e&&this.saveFileCallback&&this.saveFileCallback(s),s}getParts(){return this.bytes}replaceParts(e){this.bytes=e}}const Le=class Le{constructor(e){this.dbName=e,this.useStorage=!0,K.test&&(this.dbName+="_test"),Le.STORAGES.length&&(this.useStorage=Le.STORAGES[0].useStorage),this.openDatabase(),Le.STORAGES.push(this)}openDatabase(){return this.openDbPromise??(this.openDbPromise=caches.open(this.dbName))}delete(e){return this.timeoutOperation(s=>s.delete("/"+e))}deleteAll(){return caches.delete(this.dbName)}get(e){return this.timeoutOperation(s=>s.match("/"+e))}save(e,s){return this.timeoutOperation(n=>n.put("/"+e,s))}getFile(e,s="blob"){return this.get(e).then(n=>{if(!n)throw ve("NO_ENTRY_FOUND");return n[s]()})}saveFile(e,s){s instanceof Blob||(s=lr(s));const n=new Response(s,{headers:{"Content-Length":""+s.size}});return this.save(e,n).then(()=>s)}timeoutOperation(e){return this.useStorage?new Promise(async(s,n)=>{let r=!1;const i=setTimeout(()=>{n(),r=!0},15e3);try{const o=await this.openDatabase();if(!o)throw this.useStorage=!1,this.openDbPromise=void 0,"no cache?";const a=await e(o);if(r)return;s(a)}catch(o){n(o)}clearTimeout(i)}):Promise.reject(ve("STORAGE_OFFLINE"))}prepareWriting(e,s,n){return{deferred:ue(),getWriter:()=>new $o(n,s,i=>this.saveFile(e,i).catch(()=>i))}}static toggleStorage(e,s){return Promise.all(this.STORAGES.map(n=>{if(n.useStorage=e,!!s&&!e)return n.deleteAll()}))}};Le.STORAGES=[];let Es=Le;function an(t,e){return Promise.all([Ze.toggleStorage(t,e),Es.toggleStorage(t,e),tt.toggleStorage(t,e)]).then(At,At)}class Yo extends Ts{constructor(){super("SERVICE"),_&&(_.serviceMessagePort=this)}}const Ho=""+new URL("sw-Cc189qH1.js",import.meta.url).href,xs="";function cn(...t){return t.join(xs)}function zo(t){return t.split(xs)}function qo(t,e,s,n){const r=e.split(xs),i=r.length;let o=t;for(let u=0;u<i-1;++u){const c=r[u];o=o[c]??(o[c]={})}const a=r[i-1];s===void 0&&n?delete o[a]:o[a]=s}const Ee="_";function Ko(t,e){const s="",n=s[s.length-1]||"";let r;switch(t._){case"inputPhotoFileLocation":{r=["photo",s[0],t.id,t.thumb_size].filter(Boolean).join(Ee);break}case"inputDocumentFileLocation":{r=["document",s[0],t.id,t.thumb_size].filter(Boolean).join(Ee);break}case"inputPeerPhotoFileLocation":r=["peerPhoto",t.photo_id,t.pFlags.big?"big":"small"].join(Ee);break;case"inputStickerSetThumb":{r=["stickerSetThumb",t.stickerset.id||t.stickerset.short_name||t.stickerset.emoticon||t.stickerset._,t.thumb_version].join(Ee);break}case"inputFileLocation":{r=[t.volume_id,t.local_id].join(Ee);break}case"inputWebFileLocation":{r=["webFile",t.url].join(Ee);break}case"inputWebFileGeoPointLocation":{const i=t.geo_point;r=["geoPoint",i.lat,i.long,t.w,t.h,t.zoom,t.scale].join(Ee);break}default:{console.error("Unrecognized location:",t),r="";break}}return r+(e?.downloadId?"_download":"")+(n&&"."+n)}function Jo(t){return t?._.includes("inputWebFile")}function Xo(t){return Jo(t)?Ko(t):t._+(t.id??t.url)}function Zo(t){return{downloaded:0,url:"",type:t}}function Qo(t,e){return t+(e!==void 0?"-"+e:"")}function ss(t,e){return t instanceof Promise?t.then(e):e(t)}function un(t){return typeof t=="number"&&t<St}const Fs=Symbol("store-raw"),Re=Symbol("store-node"),ce=Symbol("store-has"),hr=Symbol("store-self");function dr(t){let e=t[re];if(!e&&(Object.defineProperty(t,re,{value:e=new Proxy(t,sa)}),!Array.isArray(t))){const s=Object.keys(t),n=Object.getOwnPropertyDescriptors(t);for(let r=0,i=s.length;r<i;r++){const o=s[r];n[o].get&&Object.defineProperty(t,o,{enumerable:n[o].enumerable,get:n[o].get.bind(e)})}}return e}function De(t){let e;return t!=null&&typeof t=="object"&&(t[re]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function ye(t,e=new Set){let s,n,r,i;if(s=t!=null&&t[Fs])return s;if(!De(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,a=t.length;o<a;o++)r=t[o],(n=ye(r,e))!==r&&(t[o]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let u=0,c=o.length;u<c;u++)i=o[u],!a[i].get&&(r=t[i],(n=ye(r,e))!==r&&(t[i]=n))}return t}function Rt(t,e){let s=t[e];return s||Object.defineProperty(t,e,{value:s=Object.create(null)}),s}function rt(t,e,s){if(t[e])return t[e];const[n,r]=te(s,{equals:!1,internal:!0});return n.$=r,t[e]=n}function ea(t,e){const s=Reflect.getOwnPropertyDescriptor(t,e);return!s||s.get||!s.configurable||e===re||e===Re||(delete s.value,delete s.writable,s.get=()=>t[re][e]),s}function fr(t){gs()&&rt(Rt(t,Re),hr)()}function ta(t){return fr(t),Reflect.ownKeys(t)}const sa={get(t,e,s){if(e===Fs)return t;if(e===re)return s;if(e===fs)return fr(t),s;const n=Rt(t,Re),r=n[e];let i=r?r():t[e];if(e===Re||e===ce||e==="__proto__")return i;if(!r){const o=Object.getOwnPropertyDescriptor(t,e);gs()&&(typeof i!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(i=rt(n,e,i)())}return De(i)?dr(i):i},has(t,e){return e===Fs||e===re||e===fs||e===Re||e===ce||e==="__proto__"?!0:(gs()&&rt(Rt(t,ce),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:ta,getOwnPropertyDescriptor:ea};function Z(t,e,s,n=!1){if(!n&&t[e]===s)return;const r=t[e],i=t.length;s===void 0?(delete t[e],t[ce]&&t[ce][e]&&r!==void 0&&t[ce][e].$()):(t[e]=s,t[ce]&&t[ce][e]&&r===void 0&&t[ce][e].$());let o=Rt(t,Re),a;if((a=rt(o,e,r))&&a.$(()=>s),Array.isArray(t)&&t.length!==i){for(let u=t.length;u<i;u++)(a=o[u])&&a.$();(a=rt(o,"length",i))&&a.$(t.length)}(a=o[hr])&&a.$()}function gr(t,e){const s=Object.keys(e);for(let n=0;n<s.length;n+=1){const r=s[n];Z(t,r,e[r])}}function na(t,e){if(typeof e=="function"&&(e=e(t)),e=ye(e),Array.isArray(e)){if(t===e)return;let s=0,n=e.length;for(;s<n;s++){const r=e[s];t[s]!==r&&Z(t,s,r)}Z(t,"length",n)}else gr(t,e)}function qe(t,e,s=[]){let n,r=t;if(e.length>1){n=e.shift();const o=typeof n,a=Array.isArray(t);if(Array.isArray(n)){for(let u=0;u<n.length;u++)qe(t,[n[u]].concat(e),s);return}else if(a&&o==="function"){for(let u=0;u<t.length;u++)n(t[u],u)&&qe(t,[u].concat(e),s);return}else if(a&&o==="object"){const{from:u=0,to:c=t.length-1,by:l=1}=n;for(let d=u;d<=c;d+=l)qe(t,[d].concat(e),s);return}else if(e.length>1){qe(t[n],e,[n].concat(s));return}r=t[n],s=[n].concat(s)}let i=e[0];typeof i=="function"&&(i=i(r,s),i===r)||n===void 0&&i==null||(i=ye(i),n===void 0||De(r)&&De(i)&&!Array.isArray(i)?gr(r,i):Z(t,n,i))}function jt(...[t,e]){const s=ye(t||{}),n=Array.isArray(s),r=dr(s);function i(...o){Ti(()=>{n&&o.length===1?na(s,o[0]):qe(s,o)})}return[r,i]}const vs=Symbol("store-root");function Ie(t,e,s,n,r){const i=e[s];if(t===i)return;const o=Array.isArray(t);if(s!==vs&&(!De(t)||!De(i)||o!==Array.isArray(i)||r&&t[r]!==i[r])){Z(e,s,t);return}if(o){if(t.length&&i.length&&(!n||r&&t[0]&&t[0][r]!=null)){let c,l,d,m,g,v,S,D;for(d=0,m=Math.min(i.length,t.length);d<m&&(i[d]===t[d]||r&&i[d]&&t[d]&&i[d][r]===t[d][r]);d++)Ie(t[d],i,d,n,r);const A=new Array(t.length),w=new Map;for(m=i.length-1,g=t.length-1;m>=d&&g>=d&&(i[m]===t[g]||r&&i[d]&&t[d]&&i[m][r]===t[g][r]);m--,g--)A[g]=i[m];if(d>g||d>m){for(l=d;l<=g;l++)Z(i,l,t[l]);for(;l<t.length;l++)Z(i,l,A[l]),Ie(t[l],i,l,n,r);i.length>t.length&&Z(i,"length",t.length);return}for(S=new Array(g+1),l=g;l>=d;l--)v=t[l],D=r&&v?v[r]:v,c=w.get(D),S[l]=c===void 0?-1:c,w.set(D,l);for(c=d;c<=m;c++)v=i[c],D=r&&v?v[r]:v,l=w.get(D),l!==void 0&&l!==-1&&(A[l]=i[c],l=S[l],w.set(D,l));for(l=d;l<t.length;l++)l in A?(Z(i,l,A[l]),Ie(t[l],i,l,n,r)):Z(i,l,t[l])}else for(let c=0,l=t.length;c<l;c++)Ie(t[c],i,c,n,r);i.length>t.length&&Z(i,"length",t.length);return}const a=Object.keys(t);for(let c=0,l=a.length;c<l;c++)Ie(t[a[c]],i,a[c],n,r);const u=Object.keys(i);for(let c=0,l=u.length;c<l;c++)t[u[c]]===void 0&&Z(i,u[c],void 0)}function mr(t,e={}){const{merge:s,key:n="id"}=e,r=ye(t);return i=>{if(!De(i)||!De(r))return r;const o=Ie(r,{[vs]:i},vs,s,n);return o===void 0?i:o}}const[Dr,Bs]=Ae(()=>jt({})),xe={default:[Dr,Bs]},Wc=(...t)=>{const e=t[0];Bs(...t),I.default.managers.appStateManager.setByKey(e,ye(Dr[e]))},ln=(t,e,s="default")=>{if(s in xe||(xe[s]=Ae(()=>jt({}))),typeof t=="object"){xe[s][1](t);return}Bs(t,mr(e))},jc=(t="default")=>(t in xe||(xe[t]=Ae(()=>jt({}))),xe[t]);function ra(t,e="asc"){if(!t)return[];const s=t instanceof Map?[...t.keys()]:Object.keys(t).map(n=>+n);return e==="asc"?s.sort((n,r)=>n-r):s.sort((n,r)=>r-n)}const[pr,Er]=jt({});function Fr(t,e){return typeof t=="function"?se(()=>e(t())):e(t)}function Vc(t){return Fr(t,e=>pr[e])}function Gc(t){return Fr(t,e=>pr[e?.toPeerId(!0)])}function ia(t,e){Er(t,mr(e))}function oa(t){Er(t)}class vr extends ct{constructor(e="default"){super(),this.onMirrorTask=s=>{var a;const{name:n,key:r,value:i}=s;if(this.processMirrorTaskMap[n]?.(s),!s.hasOwnProperty("key")){this.mirrors[n]=i;return}const o=(a=this.mirrors)[n]??(a[n]={});qo(o,r,i,!0)},this.dbInstance=e,this.mirrors={state:void 0,thumbs:{},stickerThumbs:{},availableReactions:void 0,messages:{},groupedMessages:{},peers:{},avatars:{}},this.processMirrorTaskMap={messages:s=>{var a;const n=s.value;let r,i;if(n)r=n.mid,i=n.grouped_id;else{const[u,c]=zo(s.key);r=+c;const l=this.mirrors.messages[u]?.[r];if(!l)return;i=l.grouped_id}if(!i)return;const o=(a=this.mirrors.groupedMessages)[i]??(a[i]=new Map);n?o.set(r,n):(o.delete(r),o.size||delete this.mirrors.groupedMessages[i])},state:s=>{s.key?ln(s.key,s.value):console.error(s)},peers:s=>{s.key?ia(s.key.toPeerId(),s.value):oa(s.value)}},this.tabState={chatPeerIds:[],idleStartTime:0},this.log("constructor"),this.registerWorker(),this.registerServiceWorker(),this.registerCryptoWorker(),this.addMultipleEventsListeners({convertWebp:({fileName:s,bytes:n})=>Jn.convert(s,n),convertOpus:({fileName:s,bytes:n})=>ar.pushDecodeTask(n,!1).then(r=>r.bytes),event:({name:s,args:n})=>{I[this.dbInstance].dispatchEventSingle(s,...n)},localStorageProxy:s=>{const n=s;return B[this.dbInstance][n.type](...n.args)},mirror:this.onMirrorTask,receivedServiceMessagePort:()=>{this.log.warn("mtproto worker received service message port")}}),I[this.dbInstance].addEventListener("language_change",s=>{I[this.dbInstance].managers.networkerFactory.setLanguage(s),I[this.dbInstance].managers.appAttachMenuBotsManager.onLanguageChange()}),window.addEventListener("online",()=>{I[this.dbInstance].managers.networkerFactory.forceReconnectTimeout()}),I[this.dbInstance].addEventListener("logging_out",()=>{const s=["cachedFiles","cachedStreamChunks"];Promise.all([an(!1,!0),B[this.dbInstance].clear(),Promise.race([Ms.setAuthorized(!1),Ps(3e3)]),Ot.forceUnsubscribe(),Promise.all(s.map(n=>caches.delete(n)))]).finally(()=>{Xn.reload()})}),Lt.addEventListener("change",s=>{this.updateTabStateIdle(s)}),this.updateTabStateIdle(Lt.isIdle)}sendEnvironment(){this.log("Passing environment:",nn),this.invoke("environment",nn)}pingServiceWorkerWithIframe(){if(this.pingServiceWorkerPromise)return this.pingServiceWorkerPromise;const e=this.pingServiceWorkerPromise=ue(),s=document.createElement("iframe");s.hidden=!0;const n=()=>{clearTimeout(o),setTimeout(()=>{this.pingServiceWorkerPromise=void 0},1e4),s.removeEventListener("load",r),s.removeEventListener("error",i),s.remove()},r=()=>{n(),e.resolve()},i=()=>{n(),e.reject()};s.addEventListener("load",r),s.addEventListener("error",i),s.src="ping/"+(Math.random()*4294967295|0)+".nocache",document.body.append(s);const o=window.setTimeout(i,1500);return e}attachServiceWorker(e){if(this.lastServiceWorker===e){this.log.warn("trying to attach same service worker");return}this.lastServiceWorker&&this.serviceMessagePort.detachPort(this.lastServiceWorker),this.serviceMessagePort.attachSendPort(this.lastServiceWorker=e),this.serviceMessagePort.invokeVoid("hello",void 0)}_registerServiceWorker(){navigator.serviceWorker.register(Ho,{type:"module",scope:"./"}).then(e=>{this.log("SW registered",e);const s=new URL(window.location.href),n="swfix",r=+s.searchParams.get(n)||0;if(e.active&&!navigator.serviceWorker.controller){if(r>=3)throw new Error("no controller");return e.unregister().then(()=>{s.searchParams.set(n,""+(r+1)),window.location.href=s.toString()})}r&&(s.searchParams.delete(n),history.pushState(void 0,"",s)),(e.installing||e.waiting||e.active).addEventListener("statechange",a=>{this.log("SW statechange",a)});const o=navigator.serviceWorker.controller||e.installing||e.waiting||e.active;this.attachServiceWorker(o)}).catch(e=>{this.log.error("SW registration failed!",e),this.invokeVoid("serviceWorkerOnline",!1)})}registerServiceWorker(){if(!("serviceWorker"in navigator))return;this.serviceMessagePort=Ot.serviceMessagePort=new Yo;const e=navigator.serviceWorker;this._registerServiceWorker(),e.addEventListener("controllerchange",()=>{this.log.warn("controllerchange");const s=e.controller;this.attachServiceWorker(s),s.addEventListener("error",n=>{this.log.error("controller error:",n)})}),this.serviceMessagePort.attachListenPort(e),this.serviceMessagePort.addMultipleEventsListeners({port:(s,n,r)=>{this.log.warn("got service worker port"),this.invokeVoid("serviceWorkerPort",void 0,void 0,[r.ports[0]])},hello:(s,n)=>{this.serviceMessagePort.resendLockTask(n)},share:s=>{this.log("will try to share something"),this.share=s}}),e.addEventListener("messageerror",s=>{this.log.error("SW messageerror:",s)})}async registerCryptoWorker(){const e=g=>fetch(g).then(v=>v.text()).then(v=>{const S=location.pathname.split("/");S[S.length-1]="";const D=location.origin+S.join("/");return v=v.replace(/(import (?:.+? from )?['"])\//g,"$1"+D),new Blob([v],{type:"application/javascript"})}),s={construct(g,v){return{url:Cn(v[0]).toString()}}},n=[Worker,typeof SharedWorker<"u"&&SharedWorker].filter(Boolean);n.forEach(g=>window[g.name]=new Proxy(g,s));const r=new Worker(new URL(""+new URL("crypto.worker-CfCshcpI.js",import.meta.url).href,import.meta.url),{type:"module",name:this.dbInstance});n.forEach(g=>window[g.name]=g);const i=r.url;this.dbInstance in $e||($e[this.dbInstance]=new cr);const o=g=>new u(g,{type:"module",name:this.dbInstance}),a=g=>this.attachWorkerToPort(g,$e[this.dbInstance],"crypto"),u=Mt?SharedWorker:Worker;$e[this.dbInstance].addEventListener("port",(g,v,S)=>{this.invokeVoid("cryptoPort",void 0,void 0,[S.ports[0]])});const c=o(i);a(c);const l=await e(i);(await this.invoke("createProxyWorkerURLs",{originalUrl:i,blob:l})).slice(1).map(o).forEach(a)}registerWorker(){let e;Mt?e=new SharedWorker(new URL(""+new URL("mtproto.worker-CCHXffdq.js",import.meta.url).href,import.meta.url),{type:"module",name:this.dbInstance}):e=new Worker(new URL(""+new URL("mtproto.worker-CCHXffdq.js",import.meta.url).href,import.meta.url),{type:"module",name:this.dbInstance}),this.onWorkerFirstMessage(e)}attachWorkerToPort(e,s,n){const r=e.port||e;s.attachPort(r),e.addEventListener("error",i=>{this.log.error(n,"worker error",i)})}onWorkerFirstMessage(e){this.log("set webWorker"),this.attachWorkerToPort(e,this,"mtproto")}loadState(){return Promise.all([jo(this.dbInstance).then(e=>(this.newVersion=e.newVersion,this.oldVersion=e.oldVersion,this.mirrors.state=e.state,ln(e.state,null,this.dbInstance),e))])}sendState(){const e=this.dbInstance;return this.loadState().then(s=>{const[n]=s;return this.invoke("state",{...n,userId:I[e].myId.toUserId()}),s})}invokeCrypto(e,...s){return $e[this.dbInstance].invokeCrypto(e,...s)}async toggleStorages(e,s){await an(e,s),this.invoke("toggleStorages",{enabled:e,clearWrite:s}),this.serviceMessagePort?.invokeVoid("toggleStorages",{enabled:e,clearWrite:s})}async getMirror(e){return this.mirrors[e]}getState(){return this.getMirror("state")}getCacheContext(e,s=Jr,n=Xo(e)){return this.mirrors.thumbs[n]?.[s]||Zo(s)}getStickerCachedThumb(e,s){const n=Qo(e,s);return this.mirrors.stickerThumbs[n]}getAvailableReactions(){var e;return(e=this.mirrors).availableReactions||(e.availableReactions=I[this.dbInstance].managers.appReactionsManager.getAvailableReactions())}getReaction(e){return ss(this.getAvailableReactions(),s=>s.find(n=>n.reaction===e))}getMessageFromStorage(e,s){return e.endsWith("history")&&un(s)&&(e=this.getGlobalHistoryMessagesStorage()),this.mirrors.messages[e]?.[s]}getGroupsFirstMessage(e){if(!e?.grouped_id)return e;const s=this.mirrors.groupedMessages[e.grouped_id];let n=Number.MAX_SAFE_INTEGER;for(const[r,i]of s)i.mid<n&&(n=i.mid);return s.get(n)}getMidsByGroupedId(e,s="asc"){return ra(this.mirrors.groupedMessages[e],s)}getMessagesByGroupedId(e){const s=this.getMidsByGroupedId(e,"asc"),n=this.mirrors.groupedMessages[e];return s.map(r=>n.get(r))}getHistoryMessagesStorage(e){return`${e}_history`}getGlobalHistoryMessagesStorage(){return this.getHistoryMessagesStorage(_n)}getMessageById(e){if(un(e))return this.getMessageFromStorage(this.getGlobalHistoryMessagesStorage(),e)}getMessageByPeer(e,s){return e?this.getMessageFromStorage(this.getHistoryMessagesStorage(e),s):this.getMessageById(s)}getPeer(e){return this.mirrors.peers[e]}getUser(e){return this.mirrors.peers[e.toPeerId(!1)]}getChat(e){return this.mirrors.peers[e.toPeerId(!0)]}isForum(e){return!!this.getPeer(e)?.pFlags?.forum}isAvatarCached(e,s){const n=this.mirrors.avatars[e];return s===void 0?!!n:!!(n&&n[s]&&!(n[s]instanceof Promise))}loadAvatar(e,s,n){var i;const r=(i=this.mirrors.avatars)[e]??(i[e]={});return r[n]??(r[n]=I[this.dbInstance].managers.appAvatarsManager.loadAvatar(e,s,n))}getAppConfig(e){if(e&&(this.appConfig=void 0),!this.appConfig){const s=I[this.dbInstance].managers.apiManager.getAppConfig().then(n=>(this.appConfig===s&&(this.appConfig=n),n));return this.appConfig=s}return this.appConfig}isPremiumFeaturesHidden(){return ss(this.isPremiumPurchaseBlocked(),e=>e&&!I[this.dbInstance].premium)}isPremiumPurchaseBlocked(){return ss(this.getAppConfig(),e=>!!e.premium_purchase_blocked)}updateTabState(e,s){this.tabState[e]=s,this.invokeVoid("tabState",this.tabState)}updateTabStateIdle(e){this.updateTabState("idleStartTime",e?Date.now():0)}}const Ns=new vr;_.apiManagerProxy=Ns;const Us=Ns,Et={default:Ns},aa={};function ca(t,e,s){return new Proxy({},{get:(r,i,o)=>(...a)=>{s in Et||(Et[s]=new vr(s));const c=Et[s].invoke("manager",{name:t,method:i,args:a},e);return Se&&aa[t]?.has(i)&&console.warn("manager request",t,i,a,e),c}})}function hn(t,e,s){return new Proxy(t,{get:(n,r,i)=>n[r]??(n[r]=ca(r,e,s))})}const Te={};function ua(){return la()}function la(t="default"){return t in Te&&Te[t]||(Te[t]=hn({},!1,t),Te[t].acknowledged=hn({},!0,t)),Te[t]}function Ar(t,e,s){return Math.min(s,Math.max(e,t))}function fe(t,e,s){t/=255,e/=255,s/=255;const n=Math.max(t,e,s),r=n-Math.min(t,e,s),i=r&&(n===t?(e-s)/r:n==e?2+(s-t)/r:4+(t-e)/r);return[60*(i<0?i+6:i),n&&r/n,n]}function Ws(t,e,s){const n=(r,i=(r+t/60)%6)=>Math.round((s-s*e*Math.max(Math.min(i,4-i,1),0))*255);return[n(5),n(3),n(1)]}function As(t,e,s,n=1){t/=255,e/=255,s/=255;const r=Math.max(t,e,s),i=Math.min(t,e,s);let o,a;const u=(r+i)/2;if(r===i)o=a=0;else{const c=r-i;switch(a=u>.5?c/(2-r-i):c/(r+i),r){case t:o=(e-s)/c+(e<s?6:0);break;case e:o=(s-t)/c+2;break;case s:o=(t-e)/c+4;break}o/=6}return{h:o*360,s:a*100,l:u*100,a:n}}function $c(t){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${t.a})`}function Sr(t,e,s,n){t/=360,e/=100,s/=100;let r,i,o;if(e===0)r=i=o=s;else{const a=function(d,m,g){return g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?d+(m-d)*6*g:g<.5?m:g<.6666666666666666?d+(m-d)*(.6666666666666666-g)*6:d},u=s<.5?s*(1+e):s+e-s*e,c=2*s-u;r=a(c,u,t+1/3),i=a(c,u,t),o=a(c,u,t-1/3)}return[r,i,o,n].map(a=>Math.round(a*255))}function wr(t){const e=t.slice(5,-1).split(", "),s=+e.pop(),n=e.map(r=>r.endsWith("%")?+r.slice(0,-1):+r);return Sr(n[0],n[1],n[2],s)}function yr(t){const e=[],s=t[0]==="#"?1:0;if(t.length===5+s&&(t=(s?"#":"")+"0"+t.slice(s)),t.length===3+s)for(let n=s;n<t.length;++n)e.push(parseInt(t[n]+t[n],16));else if(t.length===4+s){for(let n=s;n<t.length-1;++n)e.push(parseInt(t[n]+t[n],16));e.push(parseInt(t[t.length-1],16))}else for(let n=s;n<t.length;n+=2)e.push(parseInt(t.slice(n,n+2),16));return e}function de(t){return yr(t.slice(0,7))}function Yc(t){const e=yr(t);return As(e[0],e[1],e[2],e[3])}function Ke(t){return"#"+t.map(e=>("0"+e.toString(16)).slice(-2)).join("")}function ha(t){return Ke(wr(t))}function da(t){return ha(t).slice(0,-2)}function ns(t,e,s){const n=new Array(3);for(let r=0;r<3;++r){const i=t[r],o=e[r];n[r]=Math.floor(o+(i-o)*s)}return n}function dn(t){return(t[0]*.2126+t[1]*.7152+t[2]*.0722)/255}function fa(t,e){return t.map((s,n)=>Math.round((s+e[n])/2))}function ga(t,e,s){const n=fe(...e),r=fe(...s),i=Math.min(1.5*n[1]/t[1],1);return n[0]=Math.min(360,r[0]-n[0]+t[0]),n[1]=Math.min(1,r[1]*t[1]/n[1]),n[2]=Math.min(1,(r[2]/n[2]+i-1)*t[2]/i),n[2]<.3?s:Ws(...n)}function ma(t,e,s,n){const r=fe(...s);if(Math.min(Math.abs(r[0]-t[0]),Math.abs(r[0]-t[0]-360))>30)return s;const o=t[1]?Math.min(1.5*r[1]/t[1],1):0;r[0]=Math.min(360,r[0]+e[0]-t[0]),r[1]=t[1]?Math.min(1,r[1]*e[1]/t[1]):0,r[2]=t[2]?Math.min(1,r[2]*(1-o+o*e[2]/t[2])):0;let a=Ws(...r);const u=dn(s),c=dn(a);if(n?u>c:u<c){const m=.4*u/c+.6;a=Da(a,m)}return a}function Da(t,e){return t.map(s=>Ar(Math.round(s*e),0,255))}function br(t){const e=(t<0?16777215+t:t).toString(16);return"#"+(e.length>=6?e:"0".repeat(6-e.length)+e)}function mt(t){return de(br(t))}function Hc(t){return t.settings?[t.settings.background_color,t.settings.second_background_color,t.settings.third_background_color,t.settings.fourth_background_color].filter(Boolean).map(br).join(","):""}function zc(t,e){const s=t[3];return t.slice(0,3).map((n,r)=>Ar(Math.round((s*(n/255)+s*(e[r]/255))*255),0,255))}function qc(t){const[e,s,n]=t;return .2126*e/255+.7152*s/255+.0722*n/255}function Kc(t){return t>.5?[0,0,0]:[255,255,255]}function Jc(t,e){const s=t>.5?0:1,n=(t-s+e)/e;return+Math.max(.5,Math.min(.64,n)).toFixed(2)}function Cr(t,e,s,n,r=!0){if(t<s&&e<n&&r)return M(t,e);let i=s,o=n;return t/e>s/n?o=e*s/t|0:(i=t*n/e|0,i>s&&(o=o*s/i|0,i=s)),r&&i>=t&&o>=e&&(i=t,o=e),M(i,o)}_.calcImageInBox=Cr;class pa{constructor(e=0,s=e){this.width=e,this.height=s}aspect(e,s){return Cr(this.width,this.height,e.width,e.height,s)}aspectFitted(e){return this.aspect(e,!0)}aspectCovered(e){return this.aspect(e,!1)}}function M(t,e){return new pa(t,e)}var Ea=(t=>(t[t.mobile=0]="mobile",t[t.medium=1]="medium",t[t.large=2]="large",t))(Ea||{});const Fa=600,va=1275,Aa=1680,fn=M(20,20),gn=M(36,36),mn=M(18,18);class Sa extends be{constructor(){super(),this.screenSizes=[{key:0,value:Fa},{key:1,value:va},{key:2,value:Aa}],this.sizes={handhelds:{regular:M(340,340),webpage:M(340,200),album:M(340,0),esgSticker:M(68,68),animatedSticker:M(180,180),staticSticker:M(180,180),emojiSticker:M(112,112),poll:M(240,0),round:M(240,240),documentName:M(200,0),invoice:M(340,340),extendedInvoice:M(340,340),customEmoji:fn,esgCustomEmoji:gn,emojiStatus:mn,popupSticker:M(68,68)},desktop:{regular:M(420,400),webpage:M(420,380),album:M(420,0),esgSticker:M(72,72),animatedSticker:M(200,200),staticSticker:M(200,200),emojiSticker:M(112,112),poll:M(330,0),round:M(280,280),documentName:M(240,0),invoice:M(320,320),extendedInvoice:M(420,400),customEmoji:fn,esgCustomEmoji:gn,emojiStatus:mn,popupSticker:M(80,80)}},this.isMobile=!1,this.handleResize=()=>{const e=window.innerWidth;let s=this.screenSizes[0].key;for(let r=this.screenSizes.length-1;r>=0;--r)if(this.screenSizes[r].value<e){s=(this.screenSizes[r+1]||this.screenSizes[r]).key;break}const n=this.activeScreen;this.activeScreen=s,this.isMobile=this.activeScreen===0,this.active=this.isMobile?this.sizes.handhelds:this.sizes.desktop,n!==s&&n!==void 0&&this.dispatchEvent("changeScreen",n,s),n!==void 0&&this.dispatchEvent("resize")},window.addEventListener("resize",()=>{this.rAF&&window.cancelAnimationFrame(this.rAF),this.rAF=window.requestAnimationFrame(()=>{this.handleResize(),this.rAF=0})}),this.handleResize()}}const _r=new Sa;_.mediaSizes=_r;class wa{constructor(){this.resetCache=()=>{this.computedStyle=void 0;const e=this.cache;this.cache={};for(const s in e)this.getProperty(s)},this.cache={},this.nightElement=document.createElement("div"),this.nightElement.className="night",this.nightElement.style.display="none",document.body.append(this.nightElement),N.addEventListener("theme_changed",this.resetCache),_r.addEventListener("resize",this.resetCache)}getProperty(e,s){const n=this.cache[e],r=s?1:0;if(n?.[r])return n[r];this.computedStyle??(this.computedStyle=window.getComputedStyle(document.documentElement)),this.nightComputedStyle??(this.nightComputedStyle=window.getComputedStyle(this.nightElement));const i=(s?this.nightComputedStyle:this.computedStyle).getPropertyValue("--"+e).trim();return this.setPropertyCache(e,i,s)}getPropertyAsColor(e){const s=this.getProperty(e);return s[0]==="#"?s:`rgb(${s})`}getPropertyAsSize(e){const s=this.getProperty(e);let n;return s[s.length-1]==="%"||(s.indexOf("rem")?n=+s.replace("rem","")*16:n=+s.replace("px","")),n}setPropertyCache(e,s,n){var r;return((r=this.cache)[e]??(r[e]=[]))[n?1:0]=s}}const Ss=new wa;_&&(_.customProperties=Ss);function Dn(...t){const[e,s]=te(...t);return(...n)=>n.length===0?e():s(...n)}class ya{constructor(){if(we)return;this._width=Dn(),this._height=Dn(),this.viewport=window;const e=()=>{this.setDimensions()};this.viewport.addEventListener("resize",e),e()}setDimensions(){const e=this.viewport;this._width(e.width||e.innerWidth),this._height(e.height||e.innerHeight)}get width(){return this._width()}get height(){return this._height()}}const ws=new ya;_&&(_.windowSize=ws);class ba{isEnabled(){return!!(N.settings&&N.settings.liteMode.all)}isAvailable(e){return!!(N.settings&&!N.settings.liteMode.all&&!N.settings.liteMode[e])}}const Pr=new ba;_&&(_.liteMode=Pr);const pn={"primary-color":{rgb:!0,light:!0,lightFilled:!0,dark:!0,darkRgb:!0},"message-out-primary-color":{lightFilled:!0,rgb:!0},"surface-color":{rgb:!0},"danger-color":{rgb:!0,light:!0,dark:!0},"primary-text-color":{rgb:!0},"secondary-text-color":{light:!0,lightFilled:!0},"message-background-color":{light:!0,lightFilled:!0,dark:!0,darkFilled:!0},"message-out-background-color":{light:!0,lightFilled:!0,dark:!0,darkFilled:!0,rgb:!0},"saved-color":{lightFilled:!0},"green-color":{}},rs={day:{"primary-color":"#3390ec","message-out-primary-color":"#5CA853","message-background-color":"#ffffff","surface-color":"#ffffff","danger-color":"#df3f40","primary-text-color":"#000000","secondary-text-color":"#707579","saved-color":"#359AD4","green-color":"#70b768"},night:{"primary-color":"#8774E1","message-out-primary-color":"#8774E1","message-background-color":"#212121","surface-color":"#212121","danger-color":"#ff595a","primary-text-color":"#ffffff","secondary-text-color":"#aaaaaa","saved-color":"#8774E1","green-color":"#5CC85E"}};class Ca{constructor(e="default"){this.dbInstance=e,I[this.dbInstance].addEventListener("theme_change",s=>{this.setTheme(typeof s=="object"?s:void 0)}),I[this.dbInstance].addEventListener("theme_changed",()=>{this.setWorkerThemeParams()})}setWorkerThemeParams(){I[this.dbInstance].managers.apiManager.setThemeParams({_:"dataJSON",data:JSON.stringify(this.getThemeParamsForWebView())})}get themeColorElem(){return this._themeColorElem!==void 0?this._themeColorElem:this._themeColorElem=document.head.querySelector('[name="theme-color"]')||null}setThemeColor(e=this.themeColor){e||(e=this.isNight()?"#212121":"#ffffff");const s=this.themeColorElem;s&&s.setAttribute("content",e)}setThemeListener(){try{const e=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{this.systemTheme=e.matches?"night":"day",I[this.dbInstance].myId?I[this.dbInstance].dispatchEvent("theme_change"):this.setTheme()};"addEventListener"in e?e.addEventListener("change",s):"addListener"in e&&e.addListener(s),s()}catch{}}applyHighlightingColor({hsla:e,element:s=document.documentElement}={}){if(!e){e="hsla(85.5319, 36.9171%, 40.402%, .4)";const r=this.getTheme();r.settings?.highlightingColor&&(e=r.settings.highlightingColor)}const n=wr(e);s.style.setProperty("--message-highlighting-color",e),s.style.setProperty("--message-highlighting-color-rgb",n.slice(0,3).join(",")),s.style.setProperty("--message-highlighting-alpha",""+n[3]/255),!Fe&&e&&(this.themeColor=da(e))}_setTheme(e){const s=this.isNight();document.head.querySelector('[name="color-scheme"]')?.setAttribute("content",s?"dark":"light"),document.documentElement.classList.toggle("night",s),this.setThemeColor();const r=this.getTheme();this.applyTheme(r);let i=this.styleElement;i||(i=this.styleElement=document.createElement("style"),document.head.append(i));const o=document.createElement("div");this.applyTheme(I[this.dbInstance].settings.themes.find(a=>a.name==="night"),o,!0),i.textContent=`.night {${o.style.cssText}}`,this.applyHighlightingColor(),!e&&I[this.dbInstance].dispatchEventSingle("theme_changed")}setTheme(e){if(!("startViewTransition"in document)||!this.applied){const a=!this.applied,u=this.applied;this.applied=!0,this._setTheme(a),u||this.setWorkerThemeParams();return}Pr.isAvailable("animations")||(e=void 0);const s=!this.isNight();e&&(document.documentElement.classList.add("no-view-transition"),document.documentElement.classList.toggle("reverse",s),document.documentElement.offsetLeft);const n=document.startViewTransition(()=>{this._setTheme()});if(!e)return;const{x:r,y:i}=e,o=Math.hypot(Math.max(r,ws.width-r),Math.max(i,ws.height-i));n.ready.then(()=>{document.documentElement.animate({clipPath:[`circle(0 at ${r}px ${i}px)`,`circle(${o}px at ${r}px ${i}px)`]},{duration:500,easing:"ease-in-out",pseudoElement:`::view-transition-${s?"old":"new"}(root)`,direction:s?"reverse":"normal"})}),n.finished.finally(()=>{document.documentElement.classList.remove("no-view-transition","reverse")})}async switchTheme(e,s){await I[this.dbInstance].managers.appStateManager.setByKey(cn("settings","theme"),e),I[this.dbInstance].dispatchEvent("theme_change",s)}isNight(){return this.getTheme().name==="night"}getTheme(e=I[this.dbInstance].settings.theme==="system"?this.systemTheme:I[this.dbInstance].settings.theme){return I[this.dbInstance].settings.themes.find(s=>s.name===e)}bindColorApplier(e){const s=new Set;return{applyAppColor:n=>(s.add(n.name),this.applyAppColor({...n,...e})),finalize:()=>{const n=e.isNight;for(const r in pn)s.has(r)||this.applyAppColor({name:r,hex:rs[n?"night":"day"][r],...e})}}}applyAppColor({name:e,hex:s,element:n,lightenAlpha:r=.08,darkenAlpha:i=r,mixColor:o,isNight:a=this.isNight(),saveToCache:u}){const c=pn[e],l=de(s),d=As(...l);o??(o=de(rs[a?"night":"day"]["surface-color"]));const m=ns(l,o,r),g={...d,l:d.l-i*100},v=[[e,s],c.rgb&&[e+"-rgb",l.join(",")],c.light&&["light-"+e,`rgba(${l[0]}, ${l[1]}, ${l[2]}, ${r})`],c.lightFilled&&["light-filled-"+e,Ke(m)],c.dark&&["dark-"+e,`hsl(${g.h}, ${g.s}%, ${g.l}%)`]];u??(u=n===document.documentElement),v.filter(Boolean).forEach(([S,D])=>{n.style.setProperty("--"+S,D),u&&Ss.setPropertyCache(S,D,a)})}async applyNewTheme(e){const s=this.isNightTheme(e),n=this.getTheme(),r=I[this.dbInstance].settings.themes,i=e.settings.find(a=>a.base_theme._===(s?"baseThemeNight":"baseThemeClassic")),o={...e,name:n.name,settings:{...i,highlightingColor:""}};await this.AppBackgroundTab.setBackgroundDocument(i.wallpaper,o.settings),r[r.indexOf(n)]=o,await I[this.dbInstance].managers.appStateManager.setByKey(cn("settings","themes"),I[this.dbInstance].settings.themes),I[this.dbInstance].dispatchEvent("theme_change")}isNightTheme(e){return e.name==="night"||this.isNight()}getThemeSettings(e,s){return s??(s=this.isNightTheme(e)),Array.isArray(e.settings)?e.settings.find(r=>r.base_theme._===(s?"baseThemeNight":"baseThemeClassic")):e.settings}applyTheme(e,s=document.documentElement,n){const r=this.isNightTheme(e),i=this.getThemeSettings(e,r),o=rs[r?"night":"day"];let a=fe(...de(o["primary-color"])),u=fe(...mt(i.accent_color));const c=ma(a,u,de(o["primary-color"]),!r),l=Ke(c),{applyAppColor:d,finalize:m}=this.bindColorApplier({element:s,isNight:r,saveToCache:n});if(d({name:"primary-color",hex:l,darkenAlpha:.04}),d({name:"saved-color",hex:l,lightenAlpha:.64,mixColor:[255,255,255]}),!i.message_colors?.length)return;const g=r?1:.12,v=de(o["message-out-primary-color"]);a=fe(...v);const S=ns(v,de(o["surface-color"]),g);let A=mt(i.message_colors[0]);i.message_colors.length>1&&(i.message_colors.slice(1).forEach(k=>{A=fa(A,mt(k))}),A=ga(a,S,A)),u=fe(...A);const y=i.outbox_accent_color!==void 0&&fe(...mt(i.outbox_accent_color));let T=ns(A,de(o["surface-color"]),g);if(!r){const k=As(...T);k.s=Math.min(k.s+(r?8:63),100),T=Sr(k.h,k.s,k.l,k.a).slice(0,3)}d({name:"message-out-background-color",hex:Ke(T),lightenAlpha:g}),d({name:"message-out-primary-color",hex:r?"#ffffff":Ke(y?Ws(...y):A),mixColor:T}),m()}getThemeParamsForWebView(){const e={bg_color:"surface-color",button_color:"primary-color",button_text_color:"#ffffff",hint_color:"secondary-text-color",link_color:"link-color",secondary_bg_color:"background-color-true",text_color:"primary-text-color",header_bg_color:"surface-color",accent_text_color:"primary-color",section_bg_color:"surface-color",section_header_text_color:"primary-color",subtitle_text_color:"secondary-text-color",destructive_text_color:"danger-color"},s={};for(const n in e){const r=e[n];s[n]=r[0]==="#"?r:Ss.getProperty(r)}return s}}const kr=new Ca;_&&(_.themeController=kr);class _a extends be{constructor(){super(...arguments),this.overlaysActive=0,this.hasDarkOverlays=0}get isOverlayActive(){return this.overlaysActive>0}set isOverlayActive(e){this.overlaysActive+=e?1:-1,this.dispatchEvent("change",this.isOverlayActive)}get isDarkOverlayActive(){return this.hasDarkOverlays>0}set isDarkOverlayActive(e){this.hasDarkOverlays+=e?1:-1,this.isOverlayActive=e}}const Ft=new _a;_&&(_.overlayCounter=Ft);function Xc(t,e=t.split("?")){return Tr(e?.[1])}function Tr(t){const e={};return t&&t.split("&").forEach(s=>{const[n,r=""]=s.split("=");e[n]=decodeURIComponent(r)}),e}const Pa="onbeforeinstallprompt"in window;let ys;function ka(){window.addEventListener("beforeinstallprompt",t=>{ys=async()=>{t.prompt();const{outcome:e}=await t.userChoice;e==="accepted"&&(ys=void 0)}})}function Zc(){return ys}const js=["January","February","March","April","May","June","July","August","September","October","November","December"],Ta=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],it=js.slice(),bs=Ta.slice(),Be=86400,Qc=1440,eu=10080;function Ia(){const t=G.getDateTimeFormat({weekday:"long"}),e=new Date(Date.UTC(2017,0,2)),s=[];for(let n=0;n<7;++n)s.push(Nt(t.format(e))),e.setDate(e.getDate()+1);return s}function Ma(){const t=G.getDateTimeFormat({month:"long"}),e=new Date(Date.UTC(2017,0,1)),s=[];for(let n=0;n<12;++n)s.push(Nt(t.format(e))),e.setMonth(e.getMonth()+1);return s}function En(){it.splice(0,it.length,...Ma()),bs.splice(0,bs.length,...Ia())}const Fn=t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),s=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-s);const n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-n.getTime())/Be+1)/7)};function tu(t,e){e||(e=new Date,e.setHours(0,0,0,0));const s={day:"numeric",month:"long"};return t.getFullYear()!==e.getFullYear()&&(s.year="numeric"),new G.IntlDateElement({date:t,options:s}).element}function La(t){const e=new Date,s=e.getTime()/1e3|0,n=t.getTime()/1e3|0,r={};return s-n<Be&&e.getDate()===t.getDate()?r.hour=r.minute="2-digit":e.getFullYear()!==t.getFullYear()?(r.year=r.day="numeric",r.month="2-digit"):s-n<Be*7&&Fn(e)===Fn(t)?r.weekday="short":(r.month="short",r.day="numeric"),new G.IntlDateElement({date:t,options:r}).element}const Cs={hour:"2-digit",minute:"2-digit"};function Oa(t,e={}){e.combined&&(e.noToday=!0);const s=new Date,n=new Date(t*1e3),i=(s.getTime()/1e3|0)-t,o=e.combined?void 0:Ra(n);let a;return!e.noToday&&i<Be&&s.getDate()===n.getDate()?a=et(e.capitalize?"Date.Today":"Peer.Status.Today"):!e.noToday&&i>0&&i<Be*2&&new Date(s.getTime()-Be*1e3).getDate()===n.getDate()?(a=et(e.capitalize?"Yesterday":"Peer.Status.Yesterday"),e.capitalize&&(a.style.textTransform="capitalize")):s.getFullYear()!==n.getFullYear()?a=new G.IntlDateElement({date:n,options:{month:"short",day:"numeric",year:"numeric",...e.combined?Cs:{}}}).element:a=new G.IntlDateElement({date:n,options:{month:"short",day:"numeric",...e.combined?Cs:{}}}).element,{dateEl:a,timeEl:o}}function su(t,e=!0,s=!1){const{dateEl:n,timeEl:r}=Oa(t,{capitalize:e,noToday:s}),i=document.createDocumentFragment();return i.append(n," ",et("ScheduleController.at")," ",r),i}function Ra(t){return new G.IntlDateElement({date:t,options:Cs}).element}_&&(_.formatDateAccordingToTodayNew=La);const nu=(t,e={})=>{const s=e.monthAsNumber?".":" ",n=("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+(e.noSeconds?"":":"+("0"+t.getSeconds()).slice(-2)),r=t.getFullYear();return(e.leadingZero?("0"+t.getDate()).slice(-2):t.getDate())+s+(e.monthAsNumber?("0"+(t.getMonth()+1)).slice(-2):js[t.getMonth()])+s+(""+r).slice(e.shortYear?2:0)+(e.noTime?"":", "+n)};function ru(t,e){const s=t>=12&&!(t%12);return et(e?s?"BoldYears":"BoldMonths":s?"Years":"Months",[s?t/12:t])}const oe=2013,xa=new RegExp("20[0-9]{1,2}"),Vs="\\p{L}",Ba=new RegExp(`(${Vs}{3,})`,"iu"),Na=new RegExp(`(${Vs}{3,}) ([0-9]{0,4})`,"iu"),Ua=new RegExp(`([0-9]{0,4}) (${Vs}{2,})`,"iu"),Wa=new RegExp("^([0-9]{1,4})(\\.| |/|\\-)([0-9]{1,4})$","i"),ja=new RegExp("^([0-9]{1,2})(\\.| |/|\\-)([0-9]{1,2})(\\.| |/|\\-)([0-9]{1,4})$","i"),Va=[31,29,31,30,31,30,31,31,30,31,30,31];function Ga(t,e){const s=t.trim().toLowerCase();if(s.length<3)return;if(["today",G.format("Peer.Status.Today",!0)].some(i=>i.indexOf(s)===0)){const i=new Date,o=i.getFullYear(),a=i.getMonth(),u=i.getDate();i.setFullYear(o,a,u),i.setHours(0,0,0);const c=i.getTime();i.setFullYear(o,a,u+1),i.setHours(0,0,0);const l=i.getTime()-1;e.push({title:G.format("Date.Today",!0),minDate:c,maxDate:l});return}if(["yesterday",G.format("Peer.Status.Yesterday",!0)].some(i=>i.indexOf(s)===0)){const i=new Date,o=i.getFullYear(),a=i.getMonth(),u=i.getDate();i.setFullYear(o,a,u),i.setHours(0,0,0);const c=i.getTime()-864e5;i.setFullYear(o,a,u+1),i.setHours(0,0,0);const l=i.getTime()-86400001;e.push({title:Nt(G.format("Yesterday",!0)),minDate:c,maxDate:l});return}const n=za(s);if(n>=0){const i=new Date,o=i.getTime(),a=i.getDay(),u=n-a;i.setDate(i.getDate()+u),i.getTime()>o&&i.setTime(i.getTime()-6048e5);const c=i.getFullYear(),l=i.getMonth(),d=i.getDate();i.setFullYear(c,l,d),i.setHours(0,0,0);const m=i.getTime();i.setFullYear(c,l,d+1),i.setHours(0,0,0);const g=i.getTime()-1;e.push({title:Mr(m),minDate:m,maxDate:g});return}let r;if((r=Wa.exec(s))!==null){const i=r[1],o=r[3],a=parseInt(i),u=parseInt(o);if(a>0&&a<=31){if(u>=oe&&a<=12){const c=u,l=a-1;Ye(e,l,c);return}else if(u<=12){const c=a-1,l=u-1;is(e,c,l)}}else if(a>=oe&&u<=12){const c=a,l=u-1;Ye(e,l,c)}return}if((r=ja.exec(s))!==null){const i=r[1],o=r[3],a=r[5];if(!r[2]===r[4])return;const u=parseInt(i),c=parseInt(o)-1;let l=parseInt(a);l>=10&&l<=99&&(l+=2e3);const d=new Date().getFullYear();if(Lr(u-1,c)&&l>=oe&&l<=d){const m=new Date;m.setFullYear(l,c,u),m.setHours(0,0,0);const g=m.getTime();m.setFullYear(l,c,u+1),m.setHours(0,0,0);const v=m.getTime()-1;e.push({title:Ir(g),minDate:g,maxDate:v});return}return}if((r=Na.exec(s))!==null){const i=r[1],o=r[2],a=os(i);if(a>=0){const u=+o||new Date().getUTCFullYear();if(u>0&&u<=31){const c=u-1;is(e,c,a);return}else if(u>=oe){Ye(e,a,u);return}}}if((r=Ua.exec(s))!==null){const i=r[1],o=r[2],a=os(o);if(a>=0){const u=+i;if(u>0&&u<=31){const c=u-1;is(e,c,a);return}else u>=oe&&Ye(e,a,u)}}if((r=Ba.exec(s))!==null){const i=r[1],o=os(i);if(o>=0){const a=new Date().getFullYear();for(let u=a;u>=oe;--u)Ye(e,o,u)}}if((r=xa.exec(s))!==null){let i=+r[0];const o=new Date().getFullYear();if(i<oe){i=oe;for(let a=o;a>=i;a--){const u=new Date;u.setFullYear(a,0,1),u.setHours(0,0,0);const c=u.getTime();u.setFullYear(a+1,0,1),u.setHours(0,0,0);const l=u.getTime()-1;e.push({title:""+a,minDate:c,maxDate:l})}}else if(i<=o){const a=new Date;a.setFullYear(i,0,1),a.setHours(0,0,0);const u=a.getTime();a.setFullYear(i+1,0,1),a.setHours(0,0,0);const c=a.getTime()-1;e.push({title:""+i,minDate:u,maxDate:c})}return}}function Ye(t,e,s){const n=new Date().getFullYear(),r=Date.now();if(s>=oe&&s<=n){const i=new Date;i.setFullYear(s,e,1),i.setHours(0,0,0);const o=i.getTime();if(o>r)return;i.setMonth(i.getMonth()+1);const a=i.getTime()-1;t.push({title:$a(o),minDate:o,maxDate:a})}}function is(t,e,s){if(Lr(e,s)){const n=new Date().getFullYear(),r=Date.now();for(let i=n;i>=oe;i--){if(s===1&&e===28&&!Ha(i))continue;const o=new Date;o.setFullYear(i,s,e+1),o.setHours(0,0,0);const a=o.getTime();if(a>r)continue;o.setFullYear(i,s,e+2),o.setHours(0,0,0);const u=o.getTime()-1;i===n?t.push({title:Ya(a),minDate:a,maxDate:u}):t.push({title:Ir(a),minDate:a,maxDate:u})}}}function $a(t){const e=new Date(t);return it[e.getMonth()]+" "+e.getFullYear()}function Ya(t){const e=new Date(t);return it[e.getMonth()]+" "+e.getDate()}function Ir(t){const e=new Date(t);return("0"+e.getDate()).slice(-2)+"."+("0"+(e.getMonth()+1)).slice(-2)+"."+e.getFullYear()}function Mr(t){const e=new Date(t);return bs[e.getDay()]}function Lr(t,e){return e>=0&&e<12&&t>=0&&t<Va[e]}function Ha(t){return t%4===0&&t%100!==0||t%400===0}function os(t){t=t.toLowerCase();for(let e=0;e<12;e++)if([js[e],it[e]].some(s=>s.toLowerCase().indexOf(t)===0))return e;return-1}function za(t){const e=new Date;if(t.length<=3)return-1;for(let s=0;s<7;s++)if(e.setDate(e.getDate()+1),Mr(e.getTime()).toLowerCase().indexOf(t)===0)return e.getDay();return-1}_.fillTipDates=Ga;const Or=le,Rr=le||!Sn&&(!ne||ot)||wn<113,qa=!Or&&!Rr;tr.then(t=>{t.forEach(e=>{nt.add(e),nr.add(e)}),console.log("Supported image mime types",nt),Us.sendEnvironment()});document.addEventListener("DOMContentLoaded",async()=>{try{W.isMainDomain&&document.referrer&&/(^|\.)(google|bing|duckduckgo|ya|yandex)\./i.test(new URL(document.referrer).host)&&(localStorage.getItem("kz_version")==="Z"||yt(8)>127?(localStorage.setItem("kz_version","Z"),location.href="https://web.telegram.org/a/"):localStorage.setItem("kz_version","K"))}catch{}Kr(),Node.prototype.replaceChildren===void 0&&(Node.prototype.replaceChildren=function(...D){this.textContent="",D&&this.append(...D)}),N.managers=ua();const t=document.getElementById("manifest");t&&(t.href=`site${cs&&!Ne?"_apple":""}.webmanifest?v=jw3mK7G9Aq`),st.start();const e=window.visualViewport||window;let s=!1,n;const r=()=>{let D=(s&&!Ft.isOverlayActive?e.height||e.innerHeight:window.innerHeight)*.01;D=+D.toFixed(2),n!==D&&(Fe&&n<D&&D-n>1&&vn(),n=D,document.documentElement.style.setProperty("--vh",`${D}px`))};window.addEventListener("resize",r),r();const i=()=>{const D=document.querySelector(".chat.active");if(!D)return;const A=D.cloneNode(!0);A.querySelectorAll(".chat-input, .chat-background").forEach(U=>U.remove());const w=A.querySelector(".bubbles"),y=w.querySelector(".bubbles-inner");w.replaceChildren(y),w.querySelectorAll("video").forEach(U=>U.muted=!0);const k=document.createElement("div");k.setAttribute("id","printable"),k.append(A),document.body.append(k)},o=()=>{document.getElementById("printable")?.remove()};if(window.addEventListener("beforeprint",i),window.addEventListener("afterprint",o),vt){const D=()=>{s=A===1&&vt&&!Ft.isOverlayActive,r(),e!==window&&(s?(window.removeEventListener("resize",r),e.addEventListener("resize",r)):(e.removeEventListener("resize",r),window.addEventListener("resize",r)))};let A;window.onImTabChange=w=>{const y=A!==void 0;A=w,(y||A===1)&&D()},Ft.addEventListener("change",()=>{D()})}Ue&&!ls&&document.addEventListener("dragstart",D=>{const A=D.target;if(A.tagName==="IMG"&&A.classList.contains("emoji"))return as(D),!1}),ls&&document.documentElement.classList.add("native-emoji"),Or?document.documentElement.classList.add("native-scroll"):Rr?document.documentElement.classList.add("overlay-scroll"):qa&&document.documentElement.classList.add("custom-scroll"),document.addEventListener("dragstart",D=>{if(D.target?.tagName==="IMG")return D.preventDefault(),!1}),document.addEventListener("contextmenu",D=>{D.target.tagName==="IMG"&&!window.appMediaViewer&&as(D)}),Ue&&document.documentElement.classList.add("is-firefox","no-backdrop"),le&&document.documentElement.classList.add("is-mobile"),cs?(ne&&document.documentElement.classList.add("is-safari"),Ne?document.documentElement.classList.add("is-ios"):document.documentElement.classList.add("is-mac")):An&&document.documentElement.classList.add("is-android"),Fe?document.documentElement.classList.add("is-touch"):document.documentElement.classList.add("no-touch"),Pa&&ka();const a=performance.now(),u=G.getCacheLangPack(),[c,l]=await Promise.all([Us.sendState().then(([D])=>D),u]);G.setTimeFormat(c.state.settings.timeFormat),N.managers.rootScope.getPremium().then(D=>{N.premium=D}),kr.setThemeListener(),l.appVersion!==W.langPackVersion?G.getLangPack(l.lang_code):En(),N.addEventListener("language_change",()=>{En()});function d(D,A){D.style.opacity="0",A.then(()=>{window.requestAnimationFrame(()=>{D.style.opacity=""})})}console.log("got state, time:",performance.now()-a),await tr,l.lang_code==="ar"||l.lang_code==="fa"&&ti&&!1?(document.documentElement.classList.add("is-rtl"),document.documentElement.dir="rtl",document.documentElement.lang=l.lang_code,G.setRTL(!0)):document.documentElement.dir="ltr";let m=c.state.authState;const v=location.hash.split("?"),S=Tr(v[1]??v[0].slice(1));if(S.tgWebAuthToken&&m._!=="authStateSignedIn"){const D={token:S.tgWebAuthToken,dcId:+S.tgWebAuthDcId,userId:S.tgWebAuthUserId.toUserId(),isTest:S.tgWebAuthTest!==void 0&&!!+S.tgWebAuthTest,tgAddr:S.tgaddr};if(D.isTest!==K.test){const A=new URLSearchParams(location.search);+S.tgWebAuthTest?A.set("test","1"):A.delete("test"),location.search=A.toString();return}N.managers.appStateManager.pushToState("authState",m={_:"authStateSignImport",data:D})}if(m._!=="authStateSignedIn"){console.log("Will mount auth page:",m._,Date.now()/1e3);const D=document.getElementById("auth-pages");let A;if(D){A=D.querySelector(".scrollable"),(!Fe||ot)&&A.classList.add("no-scrollbar"),A.style.opacity="0";const y=document.createElement("div");y.classList.add("auth-placeholder"),A.prepend(y),A.append(y.cloneNode())}try{await Promise.all([z(()=>Promise.resolve().then(()=>mo),void 0,import.meta.url),z(()=>Promise.resolve().then(()=>ho),void 0,import.meta.url)]).then(([y,T])=>{y.default.setAuthorized(!1),T.default.forceUnsubscribe()})}catch{}let w;switch(m._){case"authStateSignIn":w=(await z(()=>import("./pageSignIn-CCvqSK4z.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url)).default.mount();break;case"authStateSignQr":w=(await z(()=>import("./pageSignQR-99Bv1MS4.js").then(y=>y.a),__vite__mapDeps([7,4,2,8,1]),import.meta.url)).default.mount();break;case"authStateAuthCode":w=(await z(()=>import("./pageAuthCode-DRFBn4cK.js"),__vite__mapDeps([9,2,0,1,3,4,5,6,7,8,10]),import.meta.url)).default.mount(m.sentCode);break;case"authStatePassword":w=(await z(()=>import("./pagePassword-BUHj7bf5.js"),__vite__mapDeps([11,1,2,4,12,5,13]),import.meta.url)).default.mount();break;case"authStateSignUp":w=(await z(()=>import("./pageSignUp-BnXcZZUC.js"),__vite__mapDeps([14,13,2,5,4,15,6,1]),import.meta.url)).default.mount(m.authCode);break;case"authStateSignImport":w=(await z(()=>import("./pageSignImport-fd6dIg0Z.js"),__vite__mapDeps([16,1,2]),import.meta.url)).default.mount(m.data);break}if(A){w&&await w;const y="fonts"in document?Promise.race([Ps(1e3),document.fonts.ready]):Promise.resolve();d(A,y)}}else console.log("Will mount IM page:",Date.now()/1e3),d(document.getElementById("main-columns"),zr()),(await z(()=>import("./pageIm-Dz55Dpoz.js"),__vite__mapDeps([17,2]),import.meta.url)).default.mount()});export{rc as $,W as A,Nc as B,Ro as C,Se as D,be as E,pi as F,Yc as G,Nn as H,Fe as I,jt as J,mr as K,se as L,_ as M,_n as N,Q as O,Ti as P,Ae as Q,ui as R,q as S,cc as T,jc as U,Pi as V,bc as W,Vn as X,te as Y,tu as Z,z as _,N as a,Ic as a$,Rc as a0,Ac as a1,Oc as a2,Be as a3,Ra as a4,Dt as a5,Un as a6,lc as a7,hs as a8,nc as a9,st as aA,ae as aB,Oa as aC,xc as aD,Hi as aE,ve as aF,ks as aG,_s as aH,Zi as aI,ws as aJ,H as aK,On as aL,su as aM,ne as aN,An as aO,pc as aP,Yr as aQ,$r as aR,Gr as aS,La as aT,ec as aU,Ne as aV,Ea as aW,yo as aX,Xt as aY,fs as aZ,Pc as a_,kr as aa,de as ab,br as ac,Jr as ad,M as ae,sc as af,Jo as ag,At as ah,jr as ai,Vi as aj,_i as ak,Mc as al,kc as am,Dr as an,tc as ao,Ss as ap,ss as aq,ot as ar,ps as as,Ft as at,le as au,cs as av,ic as aw,go as ax,Vr as ay,Ar as az,Oe as b,yr as b$,yc as b0,ls as b1,nu as b2,ac as b3,nr as b4,uo as b5,Xr as b6,Xc as b7,Tc as b8,dc as b9,Ke as bA,Sr as bB,Lc as bC,fc as bD,Cr as bE,nt as bF,Rs as bG,Ec as bH,ds as bI,uc as bJ,vi as bK,Rn as bL,yn as bM,ar as bN,vt as bO,Za as bP,zs as bQ,_c as bR,Ii as bS,wc as bT,cn as bU,$c as bV,Qc as bW,eu as bX,Ia as bY,pa as bZ,_o as b_,ye as ba,ns as bb,Cc as bc,ru as bd,vo as be,wi as bf,Sc as bg,Do as bh,Lt as bi,co as bj,ra as bk,oc as bl,Vc as bm,Ue as bn,Zs as bo,yt as bp,Gc as bq,Io as br,Zr as bs,Qa as bt,As as bu,Hc as bv,Dn as bw,mc as bx,Gn as by,Wt as bz,Us as c,rn as c0,Fo as c1,ei as c2,Qr as c3,Zc as c4,gc as c5,Ga as c6,Po as c7,Ki as c8,ko as c9,er as cA,Jn as cB,Dc as cC,Fc as cD,vc as cE,Bn as cF,bn as cG,Ot as ca,Xn as cb,Jc as cc,zc as cd,Kc as ce,qc as cf,Es as cg,dt as ch,Sn as ci,Ka as cj,Wc as ck,Ms as cl,Mt as cm,Ja as cn,ua as co,hc as cp,zo as cq,x as cr,Rr as cs,To as ct,po as cu,lr as cv,Eo as cw,Qo as cx,Pn as cy,Ko as cz,_t as d,Bc as e,as as f,G as g,tt as h,et as i,vn as j,I as k,zr as l,_r as m,Et as n,vr as o,Ps as p,la as q,Ks as r,yi as s,Uc as t,ao as u,ue as v,Pr as w,us as x,Xa as y,wo as z};
//# sourceMappingURL=index-CvWBhmNo.js.map
